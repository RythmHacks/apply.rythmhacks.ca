import{u as N,r as i,j as e}from"./index-4d1a9e07.js";import{a as b}from"./index.esm-c089a33d.js";import{a as v}from"./index.esm-de3dab96.js";import"./iconBase-e25dae0e.js";const C=()=>{const{user:a,updateUser:c}=N(),[m,o]=i.useState((a==null?void 0:a.user_metadata.first_name)||"Unnamed"),[r,d]=i.useState((a==null?void 0:a.user_metadata.last_name)||"Hacker"),[s,h]=i.useState(a==null?void 0:a.email),[x,p]=i.useState(!1),[f,u]=i.useState(!1),j=async t=>{t.preventDefault();try{const l=m.trim()!==(a==null?void 0:a.user_metadata.first_name)||r!==(a==null?void 0:a.user_metadata.last_name),g=s.trim()!==(a==null?void 0:a.email),{error:n}=await c({data:{first_name:m.trim(),last_name:r.trim()},email:s.trim()});if(n)throw n;l&&p(!0),g&&u(!0)}catch(l){alert(l.error_description||l.message),console.error(l)}};return e.jsxs("div",{className:"p-12",id:"settings",children:[e.jsx("div",{className:"container",children:e.jsxs("form",{onSubmit:j,children:[e.jsx("h1",{className:"mb-4",children:"User info"}),e.jsxs("div",{className:"flex gap-4 lg:flex-row flex-col",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2",htmlFor:"firstname",children:"First Name"}),e.jsx("input",{className:"p-2 text-md w-full",id:"firstname",type:"text",required:!0,value:m,onChange:t=>{o(t.target.value)}})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2",htmlFor:"lastname",children:"Last Name"}),e.jsx("input",{className:"p-2 text-md w-full",id:"lastname",type:"text",required:!0,value:r,onChange:t=>{d(t.target.value)}})]})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{className:"block mb-2",htmlFor:"email",children:"Email"}),e.jsx("input",{className:"w-full p-2 text-md",id:"email",type:"email",required:!0,value:s,onChange:t=>{h(t.target.value)}})]}),e.jsx("button",{type:"submit",disabled:s.trim()===(a==null?void 0:a.email)&&m.trim()===((a==null?void 0:a.user_metadata.first_name)||"Unnamed")&&r.trim()===((a==null?void 0:a.user_metadata.last_name)||"Hacker"),children:"Save"}),e.jsxs("div",{className:"px-4 py-2 mt-4 items-center bg-green-500/20 text-green-300 rounded-md",style:{display:x?"flex":"none"},children:[e.jsx(b,{size:24,fill:"#33FF44",className:"mr-4"}),e.jsxs("p",{children:[e.jsx("strong",{children:"Success!"})," Your name has been updated."]})]}),e.jsxs("div",{className:"px-4 py-2 mt-4 items-center bg-yellow-500/20 text-yellow-200 rounded-md",style:{display:f?"flex":"none"},children:[e.jsx(v,{size:24,fill:"#FFEE22",className:"mr-4"}),e.jsxs("p",{children:["Check your email inbox at ",e.jsx("span",{className:"text-[#659CE1]",children:s})," to finalize your email change."]})]})]})}),e.jsxs("div",{className:"container mt-4",children:[e.jsx("h1",{children:"Theme"}),e.jsxs("p",{children:["Current theme: ",e.jsx("span",{className:"font-bold",children:localStorage.theme})]}),e.jsxs("div",{className:"flex gap-2 flex-col lg:flex-row mt-4",children:[e.jsx("button",{onClick:()=>{let t=localStorage.theme;t==="dark"?localStorage.theme="light":t==="light"&&(localStorage.theme="dark"),window.location.reload()},children:"Toggle Theme"}),e.jsx("button",{onClick:()=>{localStorage.removeItem("theme"),window.location.reload()},children:"Reset to OS theme"})]})]})]})};export{C as default};
