import{r as F,a as Dl,g as Ol,j as p,R as Je,u as bt,L as wl}from"./index-4d1a9e07.js";import{B as $l,a as Ml,b as Rl}from"./index.esm-1a2f3dc7.js";import"./iconBase-e25dae0e.js";var m={};let yr={},Fi={},Ot={},yt={},qn={},tt={},xr={},Xn={},wt={},$t={},$e={},vr={},Cr={},Bi={},zi={},ji={},Wi={},Ki={},Hi={},Yi={},on={},Gi={},Ui={},Ji={},Vi={},qi={},Xi={},Qi={},Zi={},bi={},Nr={},Tr={},eo={},to={},no={};function v(t){throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?code=${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}let Ne=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Al=Ne&&"documentMode"in document?document.documentMode:null,te=Ne&&/Mac|iPod|iPhone|iPad/.test(navigator.platform),We=Ne&&/^(?!.*Seamonkey)(?=.*Firefox).*/i.test(navigator.userAgent),ln=Ne&&"InputEvent"in window&&!Al?"getTargetRanges"in new window.InputEvent("input"):!1,Er=Ne&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),Sr=Ne&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,kl=Ne&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Dr=Ne&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!kl,vn=Er||Sr||Dr?" ":"​",Pl=We?" ":vn,Il=/^[^A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]*[\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]/,Ll=/^[^\u0591-\u07ff\ufb1d-\ufdfd\ufe70-\ufefc]*[A-Za-z\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u02b8\u0300-\u0590\u0800-\u1fff\u200e\u2c00-\ufb1c\ufe00-\ufe6f\ufefd-\uffff]/,Be={bold:1,code:16,highlight:128,italic:2,strikethrough:4,subscript:32,superscript:64,underline:8},Fl={directionless:1,unmergeable:2},ei={center:2,end:6,justify:4,left:1,right:3,start:5},Bl={2:"center",6:"end",4:"justify",1:"left",3:"right",5:"start"},zl={normal:0,segmented:2,token:1},jl={0:"normal",2:"segmented",1:"token"},Qn=!1,Or=0;function Wl(t){Or=t.timeStamp}function Bn(t,e,n){return e.__lexicalLineBreak===t||t[`__lexicalKey_${n._key}`]!==void 0}function Kl(t){return t.getEditorState().read(()=>{let e=k();return e!==null?e.clone():null})}function ro(t,e,n){Qn=!0;let r=100<performance.now()-Or;try{oe(t,()=>{let i=k()||Kl(t);var o=new Map,l=t.getRootElement(),s=t._editorState,u=t._blockCursorElement;let a=!1,c="";for(var d=0;d<e.length;d++){var h=e[d],f=h.type,_=h.target,y=Ft(_,s);if(!(y===null&&_!==l||A(y))){if(f==="characterData"){if(h=r&&N(y))e:{h=i,f=_;var T=y;if(O(h)){var S=h.anchor.getNode();if(S.is(T)&&h.format!==S.getFormat()){h=!1;break e}}h=f.nodeType===3&&T.isAttached()}h&&(T=pe(t._window),f=h=null,T!==null&&T.anchorNode===_&&(h=T.anchorOffset,f=T.focusOffset),_=_.nodeValue,_!==null&&Rr(y,_,h,f,!1))}else if(f==="childList"){for(a=!0,f=h.addedNodes,T=0;T<f.length;T++){S=f[T];var $=co(S),M=S.parentNode;M==null||S===u||$!==null||S.nodeName==="BR"&&Bn(S,M,t)||(We&&($=S.innerText||S.nodeValue)&&(c+=$),M.removeChild(S))}if(h=h.removedNodes,f=h.length,0<f){for(T=0,S=0;S<f;S++)M=h[S],(M.nodeName==="BR"&&Bn(M,_,t)||u===M)&&(_.appendChild(M),T++);f!==T&&(_===l&&(y=s._nodeMap.get("root")),o.set(_,y))}}}}if(0<o.size)for(let[ee,w]of o)if(x(w))for(o=w.getChildrenKeys(),l=ee.firstChild,s=0;s<o.length;s++)u=t.getElementByKey(o[s]),u!==null&&(l==null?(ee.appendChild(u),l=u):l!==u&&ee.replaceChild(u,l),l=l.nextSibling);else N(w)&&w.markDirty();if(o=n.takeRecords(),0<o.length){for(l=0;l<o.length;l++)for(u=o[l],s=u.addedNodes,u=u.target,d=0;d<s.length;d++)y=s[d],_=y.parentNode,_==null||y.nodeName!=="BR"||Bn(y,u,t)||_.removeChild(y);n.takeRecords()}i!==null&&(a&&(i.dirty=!0,Re(i)),We&&_o(t)&&i.insertRawText(c))})}finally{Qn=!1}}function io(t){let e=t._observer;if(e!==null){let n=e.takeRecords();ro(t,n,e)}}function oo(t){Or===0&&Nn(t).addEventListener("textInput",Wl,!0),t._observer=new MutationObserver((e,n)=>{ro(t,e,n)})}let Hl=1,Yl=typeof queueMicrotask=="function"?queueMicrotask:t=>{Promise.resolve().then(t)};function lo(t){let e=document.activeElement;if(e===null)return!1;let n=e.nodeName;return A(Ft(t))&&(n==="INPUT"||n==="TEXTAREA"||e.contentEditable==="true"&&e.__lexicalEditor==null)}function Lt(t,e,n){let r=t.getRootElement();try{return r!==null&&r.contains(e)&&r.contains(n)&&e!==null&&!lo(e)&&wr(e)===t}catch{return!1}}function wr(t){for(;t!=null;){let e=t.__lexicalEditor;if(e!=null)return e;t=Cn(t)}return null}function Zn(t){return t.isToken()||t.isSegmented()}function sn(t){for(;t!=null;){if(t.nodeType===3)return t;t=t.firstChild}return null}function so(t,e,n){return e=Be[e],t&e&&(n===null||!(n&e))?t^e:n===null||n&e?t|e:t}function uo(t){return N(t)||Pt(t)||A(t)}function ao(t,e){if(e!=null)t.__key=e;else{b(),99<kt&&v(14),e=I();var n=me(),r=""+Hl++;n._nodeMap.set(r,t),x(t)?e._dirtyElements.set(r,!0):e._dirtyLeaves.add(r),e._cloneNotNeeded.add(r),e._dirtyType=1,t.__key=r}}function ze(t){var e=t.getParent();if(e!==null){let i=t.getWritable();e=e.getWritable();var n=t.getPreviousSibling();if(t=t.getNextSibling(),n===null)if(t!==null){var r=t.getWritable();e.__first=t.__key,r.__prev=null}else e.__first=null;else{if(r=n.getWritable(),t!==null){let o=t.getWritable();o.__prev=r.__key,r.__next=o.__key}else r.__next=null;i.__prev=null}t===null?n!==null?(t=n.getWritable(),e.__last=n.__key,t.__next=null):e.__last=null:(t=t.getWritable(),n!==null?(n=n.getWritable(),n.__next=t.__key,t.__prev=n.__key):t.__prev=null,i.__next=null),e.__size--,i.__parent=null}}function un(t){99<kt&&v(14);var e=t.getLatest(),n=e.__parent,r=me();let i=I(),o=r._nodeMap;if(r=i._dirtyElements,n!==null)e:for(;n!==null;){if(r.has(n))break e;let l=o.get(n);if(l===void 0)break;r.set(n,!1),n=l.__parent}e=e.__key,i._dirtyType=1,x(t)?r.set(e,!0):i._dirtyLeaves.add(e)}function G(t){b();var e=I();let n=e._compositionKey;t!==n&&(e._compositionKey=t,n!==null&&(e=j(n),e!==null&&e.getWritable()),t!==null&&(t=j(t),t!==null&&t.getWritable()))}function Me(){return ot()?null:I()._compositionKey}function j(t,e){return t=(e||me())._nodeMap.get(t),t===void 0?null:t}function co(t,e){let n=I();return t=t[`__lexicalKey_${n._key}`],t!==void 0?j(t,e):null}function Ft(t,e){for(;t!=null;){let n=co(t,e);if(n!==null)return n;t=Cn(t)}return null}function fo(t){let e=Object.assign({},t._decorators);return t._pendingDecorators=e}function ti(t){return t.read(()=>Te().getTextContent())}function Gl(t,e){oe(t,()=>{var n=me();if(!n.isEmpty())if(e==="root")Te().markDirty();else{n=n._nodeMap;for(let[,r]of n)r.markDirty()}},t._pendingEditorState===null?{tag:"history-merge"}:void 0)}function Te(){return me()._nodeMap.get("root")}function Re(t){b();let e=me();t!==null&&(t.dirty=!0,t._cachedNodes=null),e._selection=t}function Ze(t){var e=I(),n;e:{for(n=t;n!=null;){let r=n[`__lexicalKey_${e._key}`];if(r!==void 0){n=r;break e}n=Cn(n)}n=null}return n===null?(e=e.getRootElement(),t===e?j("root"):null):j(n)}function ho(t){return/[\uD800-\uDBFF][\uDC00-\uDFFF]/g.test(t)}function $r(t){let e=[];for(;t!==null;)e.push(t),t=t._parentEditor;return e}function go(){return Math.random().toString(36).replace(/[^a-z]+/g,"").substr(0,5)}function Mr(t,e,n){if(e=pe(e._window),e!==null){var r=e.anchorNode,{anchorOffset:i,focusOffset:o}=e;if(r!==null&&(e=r.nodeType===3?r.nodeValue:null,r=Ft(r),e!==null&&N(r))){if(r.canContainTabs()){var l=e.includes("	");if(n&&0<n.length&&l){l=n.length;let s=i+l-1,u=e.slice(0,s);e=e.slice(s,e.length),e=`${u}${n}${e}`,i+=l,o+=l}}e===vn&&n&&(l=n.length,e=n,o=i=l),e!==null&&Rr(r,e,i,o,t)}}}function Rr(t,e,n,r,i){let o=t;if(o.isAttached()&&(i||!o.isDirty())){var l=o.isComposing();if(t=e,(l||i)&&e[e.length-1]===vn&&(t=e.slice(0,-1)),e=o.getTextContent(),i||t!==e)if(t==="")if(G(null),Er||Sr||Dr)o.remove();else{let a=I();setTimeout(()=>{a.update(()=>{o.isAttached()&&o.remove()})},20)}else{i=o.getParent(),e=jt();var s=Me(),u=o.getKey();o.isToken()||s!==null&&u===s&&!l||i!==null&&O(e)&&!i.canInsertTextBefore()&&e.anchor.offset===0?o.markDirty():(l=k(),O(l)&&n!==null&&r!==null&&(l.setTextNodeRange(o,n,o,r),o.isSegmented()&&(n=o.getTextContent(),n=Y(n),o.replace(n),o=n)),o.setTextContent(t))}}}function Ul(t,e){if(e.isSegmented())return!0;if(!t.isCollapsed())return!1;t=t.anchor.offset;let n=e.getParentOrThrow(),r=e.isToken();return t===0?((t=!e.canInsertTextBefore()||!n.canInsertTextBefore()||r)||(e=e.getPreviousSibling(),t=(N(e)||x(e)&&e.isInline())&&!e.canInsertTextAfter()),t):t===e.getTextContentSize()?!e.canInsertTextAfter()||!n.canInsertTextAfter()||r:!1}function xt(t,e){var n=t[e];return typeof n=="string"?(n=n.split(" "),t[e]=n):n}function Ar(t,e,n,r,i){n.size!==0&&(n=r.__key,e=e.get(r.__type),e===void 0&&v(33),r=e.klass,e=t.get(r),e===void 0&&(e=new Map,t.set(r,e)),t=e.get(n),r=t==="destroyed"&&i==="created",(t===void 0||r)&&e.set(n,r?"updated":i))}function ni(t,e,n){let r=t.getParent(),i=n;return r!==null&&(e&&n===0?(i=t.getIndexWithinParent(),t=r):e||n!==t.getChildrenSize()||(i=t.getIndexWithinParent()+1,t=r)),t.getChildAtIndex(e?i-1:i)}function bn(t,e){var n=t.offset;return t.type==="element"?(t=t.getNode(),ni(t,e,n)):(t=t.getNode(),e&&n===0||!e&&n===t.getTextContentSize()?(n=e?t.getPreviousSibling():t.getNextSibling(),n===null?ni(t.getParentOrThrow(),e,t.getIndexWithinParent()+(e?0:1)):n):null)}function _o(t){return t=(t=Nn(t).event)&&t.inputType,t==="insertFromPaste"||t==="insertFromPasteAsQuotation"}function an(t){return!re(t)&&!t.isLastChild()&&!t.isInline()}function dn(t,e){return t=t._keyToDOMMap.get(e),t===void 0&&v(75),t}function Cn(t){return t=t.assignedSlot||t.parentElement,t!==null&&t.nodeType===11?t.host:t}function Jl(t,e=0){if(e!==0&&v(1),e=k(),!O(e)||!x(t))return e;let{anchor:n,focus:r}=e,i=n.getNode(),o=r.getNode();return cn(i,t)&&n.set(t.__key,0,"element"),cn(o,t)&&r.set(t.__key,0,"element"),e}function cn(t,e){for(t=t.getParent();t!==null;){if(t.is(e))return!0;t=t.getParent()}return!1}function Nn(t){return t=t._window,t===null&&v(78),t}function po(t){for(t=t.getParentOrThrow();t!==null&&!ue(t);)t=t.getParentOrThrow();return t}function ue(t){return re(t)||x(t)&&t.isShadowRoot()}function mo(t){return t=t.constructor.clone(t),ao(t,null),t}function Tn(t){var e=I();let n=t.constructor.getType();return e=e._nodes.get(n),e===void 0&&v(97),e=e.replace,e!==null?(e=e(t),e instanceof t.constructor||v(98),e):t}function zn(t,e){t=t.getParent(),!re(t)||x(e)||A(e)||v(99)}function jn(t){return(A(t)||x(t)&&!t.canBeEmpty())&&!t.isInline()}function er(t,e,n){n.style.removeProperty("caret-color"),e._blockCursorElement=null,e=t.parentElement,e!==null&&e.removeChild(t)}function pe(t){return Ne?(t||window).getSelection():null}function yo(t,e){let n=t.getChildAtIndex(e);n==null&&(n=t),ue(t)&&v(102);let r=l=>{const s=l.getParentOrThrow(),u=ue(s),a=l!==n||u?mo(l):l;if(u)return l.insertAfter(a),[l,a,a];const[c,d,h]=r(s);return l=l.getNextSiblings(),h.append(a,...l),[c,d,a]},[i,o]=r(n);return[i,o]}function fn(t,e){for(;t!==Te()&&t!=null;){if(e(t))return t;t=t.getParent()}return null}function Vl(t){let e=[],n=[t];for(;0<n.length;){let r=n.pop();r===void 0&&v(112),x(r)&&n.unshift(...r.getChildren()),r!==t&&e.push(r)}return e}function xo(t,e,n,r,i){for(t=t.getFirstChild();t!==null;){let o=t.__key;t!==void 0&&t.__parent===e&&(x(t)&&xo(t,o,n,r,i),n.has(o)||i.delete(o),r.delete(o)),t=t.isAttached()?t.getNextSibling():null}}function ql(t,e,n,r){t=t._nodeMap,e=e._nodeMap;for(let i of n){let o=e.get(i);o===void 0||o.isAttached()||(t.has(i)||n.delete(i),e.delete(i))}for(let[i]of r)n=e.get(i),n===void 0||n.isAttached()||(x(n)&&xo(n,i,t,e,r),t.has(i)||r.delete(i),e.delete(i))}function ri(t,e){let n=t.__mode,r=t.__format;t=t.__style;let i=e.__mode,o=e.__format;return e=e.__style,(n===null||n===i)&&(r===null||r===o)&&(t===null||t===e)}function ii(t,e){let n=t.mergeWithSibling(e),r=I()._normalizedNodes;return r.add(t.__key),r.add(e.__key),n}function vo(t){if(t.__text===""&&t.isSimpleText()&&!t.isUnmergeable())t.remove();else{for(var e;(e=t.getPreviousSibling())!==null&&N(e)&&e.isSimpleText()&&!e.isUnmergeable();)if(e.__text==="")e.remove();else{ri(e,t)&&(t=ii(e,t));break}for(var n;(n=t.getNextSibling())!==null&&N(n)&&n.isSimpleText()&&!n.isUnmergeable();)if(n.__text==="")n.remove();else{ri(t,n)&&ii(t,n);break}}}function Co(t){return oi(t.anchor),oi(t.focus),t}function oi(t){for(;t.type==="element";){var e=t.getNode(),n=t.offset;if(n===e.getChildrenSize()?(e=e.getChildAtIndex(n-1),n=!0):(e=e.getChildAtIndex(n),n=!1),N(e)){t.set(e.__key,n?e.getTextContentSize():0,"text");break}else if(!x(e))break;t.set(e.__key,n?e.getChildrenSize():0,"element")}}let L="",Z="",ve="",Ae,V,Mt,No=!1,kr=!1,En,en=null,tr,nr,Ke,ke,rr,Rt;function tn(t,e){let n=Ke.get(t);if(e!==null){let r=lr(t);r.parentNode===e&&e.removeChild(r)}ke.has(t)||V._keyToDOMMap.delete(t),x(n)&&(t=hn(n,Ke),ir(t,0,t.length-1,null)),n!==void 0&&Ar(Rt,Mt,En,n,"destroyed")}function ir(t,e,n,r){for(;e<=n;++e){let i=t[e];i!==void 0&&tn(i,r)}}function Fe(t,e){t.setProperty("text-align",e)}function To(t,e){var n=Ae.theme.indent;if(typeof n=="string"){let r=t.classList.contains(n);0<e&&!r?t.classList.add(n):1>e&&r&&t.classList.remove(n)}n=getComputedStyle(t).getPropertyValue("--lexical-indent-base-value")||"40px",t.style.setProperty("padding-inline-start",e===0?"":`calc(${e} * ${n})`)}function Eo(t,e){t=t.style,e===0?Fe(t,""):e===1?Fe(t,"left"):e===2?Fe(t,"center"):e===3?Fe(t,"right"):e===4?Fe(t,"justify"):e===5?Fe(t,"start"):e===6&&Fe(t,"end")}function nn(t,e,n){let r=ke.get(t);r===void 0&&v(60);let i=r.createDOM(Ae,V);var o=V._keyToDOMMap;if(i["__lexicalKey_"+V._key]=t,o.set(t,i),N(r)?i.setAttribute("data-lexical-text","true"):A(r)&&i.setAttribute("data-lexical-decorator","true"),x(r)){if(t=r.__indent,o=r.__size,t!==0&&To(i,t),o!==0){--o,t=hn(r,ke);var l=Z;Z="",or(t,r,0,o,i,null),Do(r,i),Z=l}t=r.__format,t!==0&&Eo(i,t),r.isInline()||So(null,r,i),an(r)&&(L+=`

`,ve+=`

`)}else o=r.getTextContent(),A(r)?(l=r.decorate(V,Ae),l!==null&&Oo(t,l),i.contentEditable="false"):N(r)&&(r.isDirectionless()||(Z+=o)),L+=o,ve+=o;return e!==null&&(n!=null?e.insertBefore(i,n):(n=e.__lexicalLineBreak,n!=null?e.insertBefore(i,n):e.appendChild(i))),Ar(Rt,Mt,En,r,"created"),i}function or(t,e,n,r,i,o){let l=L;for(L="";n<=r;++n)nn(t[n],i,o);an(e)&&(L+=`

`),i.__lexicalTextContent=L,L=l+L}function li(t,e){return t=e.get(t),Pt(t)||A(t)&&t.isInline()}function So(t,e,n){t=t!==null&&(t.__size===0||li(t.__last,Ke)),e=e.__size===0||li(e.__last,ke),t?e||(e=n.__lexicalLineBreak,e!=null&&n.removeChild(e),n.__lexicalLineBreak=null):e&&(e=document.createElement("br"),n.__lexicalLineBreak=e,n.appendChild(e))}function Do(t,e){var n=e.__lexicalDir;if(e.__lexicalDirTextContent!==Z||n!==en){let o=Z==="";if(o)var r=en;else r=Z,r=Il.test(r)?"rtl":Ll.test(r)?"ltr":null;if(r!==n){let l=e.classList,s=Ae.theme;var i=n!==null?s[n]:void 0;let u=r!==null?s[r]:void 0;i!==void 0&&(typeof i=="string"&&(i=i.split(" "),i=s[n]=i),l.remove(...i)),r===null||o&&r==="ltr"?e.removeAttribute("dir"):(u!==void 0&&(typeof u=="string"&&(n=u.split(" "),u=s[r]=n),u!==void 0&&l.add(...u)),e.dir=r),kr||(t.getWritable().__dir=r)}en=r,e.__lexicalDirTextContent=Z,e.__lexicalDir=r}}function hn(t,e){let n=[];for(t=t.__first;t!==null;){let r=e.get(t);r===void 0&&v(101),n.push(t),t=r.__next}return n}function gt(t,e){var n=Ke.get(t),r=ke.get(t);n!==void 0&&r!==void 0||v(61);var i=No||nr.has(t)||tr.has(t);let o=dn(V,t);if(n===r&&!i)return x(n)?(r=o.__lexicalTextContent,r!==void 0&&(L+=r,ve+=r),r=o.__lexicalDirTextContent,r!==void 0&&(Z+=r)):(r=n.getTextContent(),N(n)&&!n.isDirectionless()&&(Z+=r),ve+=r,L+=r),o;if(n!==r&&i&&Ar(Rt,Mt,En,r,"updated"),r.updateDOM(n,o,Ae))return r=nn(t,null,null),e===null&&v(62),e.replaceChild(r,o),tn(t,null),r;if(x(n)&&x(r)){if(t=r.__indent,t!==n.__indent&&To(o,t),t=r.__format,t!==n.__format&&Eo(o,t),i){t=r,i=Z,Z="",e=L;var l=n.__size,s=t.__size;if(L="",l===1&&s===1){var u=n.__first,a=t.__first;if(u===a)gt(u,o);else{var c=lr(u);a=nn(a,null,null),o.replaceChild(a,c),tn(u,null)}}else{a=hn(n,Ke);var d=hn(t,ke);if(l===0)s!==0&&or(d,t,0,s-1,o,null);else if(s===0)l!==0&&(u=o.__lexicalLineBreak==null,ir(a,0,l-1,u?null:o),u&&(o.textContent=""));else{var h=a;a=d,d=l-1,l=s-1;let _=o.firstChild,y=0;for(s=0;y<=d&&s<=l;){var f=h[y];let T=a[s];if(f===T)_=Wn(gt(T,o)),y++,s++;else{u===void 0&&(u=new Set(h)),c===void 0&&(c=new Set(a));let S=c.has(f),$=u.has(T);S?($?(f=dn(V,T),f===_?_=Wn(gt(T,o)):(_!=null?o.insertBefore(f,_):o.appendChild(f),gt(T,o)),y++):nn(T,o,_),s++):(_=Wn(lr(f)),tn(f,o),y++)}}u=y>d,c=s>l,u&&!c?(u=a[l+1],u=u===void 0?null:V.getElementByKey(u),or(a,t,s,l,o,u)):c&&!u&&ir(h,y,d,o)}}an(t)&&(L+=`

`),o.__lexicalTextContent=L,L=e+L,Do(t,o),Z=i,re(r)||r.isInline()||So(n,r,o)}an(r)&&(L+=`

`,ve+=`

`)}else n=r.getTextContent(),A(r)?(i=r.decorate(V,Ae),i!==null&&Oo(t,i)):N(r)&&!r.isDirectionless()&&(Z+=n),L+=n,ve+=n;return!kr&&re(r)&&r.__cachedText!==ve&&(r=r.getWritable(),r.__cachedText=ve),o}function Oo(t,e){let n=V._pendingDecorators,r=V._decorators;if(n===null){if(r[t]===e)return;n=fo(V)}n[t]=e}function Wn(t){return t=t.nextSibling,t!==null&&t===V._blockCursorElement&&(t=t.nextSibling),t}function lr(t){return t=rr.get(t),t===void 0&&v(75),t}let xe=Object.freeze({}),sr=[["keydown",rs],["pointerdown",Ql],["compositionstart",ts],["compositionend",ns],["input",es],["click",Xl],["cut",xe],["copy",xe],["dragstart",xe],["dragover",xe],["dragend",xe],["paste",xe],["focus",xe],["blur",xe],["drop",xe]];ln&&sr.push(["beforeinput",(t,e)=>bl(t,e)]);let At=0,wo=0,$o=0,Qe=null,vt=0,ur=!1,ar=!1,Ct=!1,_t=!1,Mo=[0,"",0,"root",0];function Ro(t,e,n,r,i){let o=t.anchor,l=t.focus,s=o.getNode();var u=I();let a=pe(u._window),c=a!==null?a.anchorNode:null,d=o.key;u=u.getElementByKey(d);let h=n.length;return d!==l.key||!N(s)||(!i&&(!ln||$o<r+50)||s.isDirty()&&2>h||ho(n))&&o.offset!==l.offset&&!s.isComposing()||Zn(s)||s.isDirty()&&1<h||(i||!ln)&&u!==null&&!s.isComposing()&&c!==sn(u)||a!==null&&e!==null&&(!e.collapsed||e.startContainer!==a.anchorNode||e.startOffset!==a.anchorOffset)||s.getFormat()!==t.format||s.getStyle()!==t.style||Ul(t,s)}function si(t,e){return t!==null&&t.nodeValue!==null&&t.nodeType===3&&e!==0&&e!==t.nodeValue.length}function ui(t,e,n){let{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:l}=t;ur&&(ur=!1,si(r,i)&&si(o,l))||oe(e,()=>{if(!n)Re(null);else if(Lt(e,r,o)){var s=k();if(O(s)){var u=s.anchor,a=u.getNode();if(s.isCollapsed()){t.type==="Range"&&t.anchorNode===t.focusNode&&(s.dirty=!0);var c=Nn(e).event;c=c?c.timeStamp:performance.now();let[d,h,f,_,y]=Mo;c<y+200&&u.offset===f&&u.key===_?(s.format=d,s.style=h):u.type==="text"?(s.format=a.getFormat(),s.style=a.getStyle()):u.type==="element"&&(s.format=0,s.style="")}else{u=255,a=!1,c=s.getNodes();let d=c.length;for(let h=0;h<d;h++){let f=c[h];if(N(f)&&(a=!0,u&=f.getFormat(),u===0))break}s.format=a?u:0}}C(e,yr,void 0)}})}function Xl(t,e){oe(e,()=>{let n=k(),r=pe(e._window),i=jt();if(O(n)){let o=n.anchor,l=o.getNode();r&&o.type==="element"&&o.offset===0&&n.isCollapsed()&&!re(l)&&Te().getChildrenSize()===1&&l.getTopLevelElementOrThrow().isEmpty()&&i!==null&&n.is(i)&&(r.removeAllRanges(),n.dirty=!0)}C(e,Fi,t)})}function Ql(t,e){let n=t.target;t=t.pointerType,n instanceof Node&&t!=="touch"&&oe(e,()=>{A(Ft(n))||(ar=!0)})}function Ao(t){return t.getTargetRanges?(t=t.getTargetRanges(),t.length===0?null:t[0]):null}function Zl(t,e){return t!==e||x(t)||x(e)||!t.isToken()||!e.isToken()}function bl(t,e){let n=t.inputType,r=Ao(t);n==="deleteCompositionText"||We&&_o(e)||n!=="insertCompositionText"&&oe(e,()=>{let i=k();if(n==="deleteContentBackward"){if(i===null){var o=jt();if(!O(o))return;Re(o.clone())}if(O(i)){wo===229&&t.timeStamp<At+30&&e.isComposing()&&i.anchor.key===i.focus.key?(G(null),At=0,setTimeout(()=>{oe(e,()=>{G(null)})},30),O(i)&&(o=i.anchor.getNode(),o.markDirty(),i.format=o.getFormat(),i.style=o.getStyle())):(t.preventDefault(),C(e,Ot,!0));return}}if(O(i)){o=t.data,Qe!==null&&Mr(!1,e,Qe),i.dirty&&Qe===null||!i.isCollapsed()||re(i.anchor.getNode())||r===null||i.applyDOMRange(r),Qe=null;var l=i.focus,s=i.anchor.getNode();if(l=l.getNode(),n==="insertText"||n==="insertTranspose")o===`
`?(t.preventDefault(),C(e,yt,!1)):o===`

`?(t.preventDefault(),C(e,qn,void 0)):o==null&&t.dataTransfer?(o=t.dataTransfer.getData("text/plain"),t.preventDefault(),i.insertRawText(o)):o!=null&&Ro(i,r,o,t.timeStamp,!0)?(t.preventDefault(),C(e,tt,o)):Qe=o,$o=t.timeStamp;else switch(t.preventDefault(),n){case"insertFromYank":case"insertFromDrop":case"insertReplacementText":C(e,tt,t);break;case"insertFromComposition":G(null),C(e,tt,t);break;case"insertLineBreak":G(null),C(e,yt,!1);break;case"insertParagraph":G(null),Ct?(Ct=!1,C(e,yt,!1)):C(e,qn,void 0);break;case"insertFromPaste":case"insertFromPasteAsQuotation":C(e,xr,t);break;case"deleteByComposition":Zl(s,l)&&C(e,Xn,void 0);break;case"deleteByDrag":case"deleteByCut":C(e,Xn,void 0);break;case"deleteContent":C(e,Ot,!1);break;case"deleteWordBackward":C(e,wt,!0);break;case"deleteWordForward":C(e,wt,!1);break;case"deleteHardLineBackward":case"deleteSoftLineBackward":C(e,$t,!0);break;case"deleteContentForward":case"deleteHardLineForward":case"deleteSoftLineForward":C(e,$t,!1);break;case"formatStrikeThrough":C(e,$e,"strikethrough");break;case"formatBold":C(e,$e,"bold");break;case"formatItalic":C(e,$e,"italic");break;case"formatUnderline":C(e,$e,"underline");break;case"historyUndo":C(e,vr,void 0);break;case"historyRedo":C(e,Cr,void 0)}}})}function es(t,e){t.stopPropagation(),oe(e,()=>{var n=k(),r=t.data,i=Ao(t);if(r!=null&&O(n)&&Ro(n,i,r,t.timeStamp,!1)){_t&&(dr(e,r),_t=!1);var o=n.anchor,l=o.getNode();if(i=pe(e._window),i===null)return;let s=o.offset;(o=ln&&!n.isCollapsed()&&N(l)&&i.anchorNode!==null)&&(l=l.getTextContent().slice(0,s)+r+l.getTextContent().slice(s+n.focus.offset),i=i.anchorNode,o=l===(i.nodeType===3?i.nodeValue:null)),o||C(e,tt,r),r=r.length,We&&1<r&&t.inputType==="insertCompositionText"&&!e.isComposing()&&(n.anchor.offset-=r),Er||Sr||Dr||!e.isComposing()||(At=0,G(null))}else Mr(!1,e,r!==null?r:void 0),_t&&(dr(e,r||void 0),_t=!1);b(),n=I(),io(n)}),Qe=null}function ts(t,e){oe(e,()=>{let n=k();if(O(n)&&!e.isComposing()){let r=n.anchor,i=n.anchor.getNode();G(r.key),(t.timeStamp<At+30||r.type==="element"||!n.isCollapsed()||i.getFormat()!==n.format||i.getStyle()!==n.style)&&C(e,tt,Pl)}})}function dr(t,e){var n=t._compositionKey;if(G(null),n!==null&&e!=null){if(e===""){e=j(n),t=sn(t.getElementByKey(n)),t!==null&&t.nodeValue!==null&&N(e)&&Rr(e,t.nodeValue,null,null,!0);return}if(e[e.length-1]===`
`&&(n=k(),O(n))){e=n.focus,n.anchor.set(e.key,e.offset,e.type),C(t,on,null);return}}Mr(!0,t,e)}function ns(t,e){We?_t=!0:oe(e,()=>{dr(e,t.data)})}function rs(t,e){if(At=t.timeStamp,wo=t.keyCode,!e.isComposing()){var{keyCode:n,shiftKey:r,ctrlKey:i,metaKey:o,altKey:l}=t;if(!C(e,Bi,t)){if(n!==39||i||o||l)if(n!==39||l||r||!i&&!o)if(n!==37||i||o||l)if(n!==37||l||r||!i&&!o)if(n!==38||i||o)if(n!==40||i||o)if(n===13&&r)Ct=!0,C(e,on,t);else if(n===32)C(e,Gi,t);else if(te&&i&&n===79)t.preventDefault(),Ct=!0,C(e,yt,!0);else if(n!==13||r){var s=te?l||o?!1:n===8||n===72&&i:i||l||o?!1:n===8;s?n===8?C(e,Ui,t):(t.preventDefault(),C(e,Ot,!0)):n===27?C(e,Ji,t):(s=te?r||l||o?!1:n===46||n===68&&i:i||l||o?!1:n===46,s?n===46?C(e,Vi,t):(t.preventDefault(),C(e,Ot,!1)):n===8&&(te?l:i)?(t.preventDefault(),C(e,wt,!0)):n===46&&(te?l:i)?(t.preventDefault(),C(e,wt,!1)):te&&o&&n===8?(t.preventDefault(),C(e,$t,!0)):te&&o&&n===46?(t.preventDefault(),C(e,$t,!1)):n===66&&!l&&(te?o:i)?(t.preventDefault(),C(e,$e,"bold")):n===85&&!l&&(te?o:i)?(t.preventDefault(),C(e,$e,"underline")):n===73&&!l&&(te?o:i)?(t.preventDefault(),C(e,$e,"italic")):n!==9||l||i||o?n===90&&!r&&(te?o:i)?(t.preventDefault(),C(e,vr,void 0)):(s=te?n===90&&o&&r:n===89&&i||n===90&&i&&r,s?(t.preventDefault(),C(e,Cr,void 0)):zt(e._editorState._selection)&&(s=r?!1:n===67?te?o:i:!1,s?(t.preventDefault(),C(e,Nr,t)):(s=r?!1:n===88?te?o:i:!1,s&&(t.preventDefault(),C(e,Tr,t))))):C(e,qi,t))}else Ct=!1,C(e,on,t);else C(e,Yi,t);else C(e,Hi,t);else C(e,Ki,t);else C(e,Wi,t);else C(e,ji,t);else C(e,zi,t);(i||r||l||o)&&C(e,no,t)}}}function ko(t){let e=t.__lexicalEventHandles;return e===void 0&&(e=[],t.__lexicalEventHandles=e),e}let nt=new Map;function Po(t){t=t.target;let e=pe(t==null?null:t.nodeType===9?t.defaultView:t.ownerDocument.defaultView);if(e!==null){var n=wr(e.anchorNode);if(n!==null){ar&&(ar=!1,oe(n,()=>{var l=jt(),s=e.anchorNode;s!==null&&(s=s.nodeType,s===1||s===3)&&(l=Bo(l,e,n),Re(l))})),t=$r(n),t=t[t.length-1];var r=t._key,i=nt.get(r),o=i||t;o!==n&&ui(e,o,!1),ui(e,n,!0),n!==t?nt.set(r,n):i&&nt.delete(r)}}}function is(t,e){vt===0&&t.ownerDocument.addEventListener("selectionchange",Po),vt++,t.__lexicalEditor=e;let n=ko(t);for(let r=0;r<sr.length;r++){let[i,o]=sr[r],l=typeof o=="function"?s=>{s._lexicalHandled!==!0&&(s._lexicalHandled=!0,e.isEditable()&&o(s,e))}:s=>{if(s._lexicalHandled!==!0&&(s._lexicalHandled=!0,e.isEditable()))switch(i){case"cut":return C(e,Tr,s);case"copy":return C(e,Nr,s);case"paste":return C(e,xr,s);case"dragstart":return C(e,Qi,s);case"dragover":return C(e,Zi,s);case"dragend":return C(e,bi,s);case"focus":return C(e,eo,s);case"blur":return C(e,to,s);case"drop":return C(e,Xi,s)}};t.addEventListener(i,l),n.push(()=>{t.removeEventListener(i,l)})}}function cr(t,e,n){b();var r=t.__key;let i=t.getParent();if(i!==null){var o=Jl(t),l=!1;if(O(o)&&e){let s=o.anchor,u=o.focus;s.key===r&&(_n(s,t,i,t.getPreviousSibling(),t.getNextSibling()),l=!0),u.key===r&&(_n(u,t,i,t.getPreviousSibling(),t.getNextSibling()),l=!0)}O(o)&&e&&!l?(r=t.getIndexWithinParent(),ze(t),gn(o,i,r,-1)):ze(t),n||ue(i)||i.canBeEmpty()||!i.isEmpty()||cr(i,e),e&&re(i)&&i.isEmpty()&&i.selectEnd()}}class Bt{static getType(){v(64)}static clone(){v(65)}constructor(e){this.__type=this.constructor.getType(),this.__next=this.__prev=this.__parent=null,ao(this,e)}getType(){return this.__type}isAttached(){for(var e=this.__key;e!==null;){if(e==="root")return!0;if(e=j(e),e===null)break;e=e.__parent}return!1}isSelected(e){if(e=e||k(),e==null)return!1;let n=e.getNodes().some(r=>r.__key===this.__key);return N(this)?n:O(e)&&e.anchor.type==="element"&&e.focus.type==="element"&&e.anchor.key===e.focus.key&&e.anchor.offset===e.focus.offset?!1:n}getKey(){return this.__key}getIndexWithinParent(){var e=this.getParent();if(e===null)return-1;e=e.getFirstChild();let n=0;for(;e!==null;){if(this.is(e))return n;n++,e=e.getNextSibling()}return-1}getParent(){let e=this.getLatest().__parent;return e===null?null:j(e)}getParentOrThrow(){let e=this.getParent();return e===null&&v(66),e}getTopLevelElement(){let e=this;for(;e!==null;){let n=e.getParent();if(ue(n))return e;e=n}return null}getTopLevelElementOrThrow(){let e=this.getTopLevelElement();return e===null&&v(67),e}getParents(){let e=[],n=this.getParent();for(;n!==null;)e.push(n),n=n.getParent();return e}getParentKeys(){let e=[],n=this.getParent();for(;n!==null;)e.push(n.__key),n=n.getParent();return e}getPreviousSibling(){let e=this.getLatest().__prev;return e===null?null:j(e)}getPreviousSiblings(){let e=[];var n=this.getParent();if(n===null)return e;for(n=n.getFirstChild();n!==null&&!n.is(this);)e.push(n),n=n.getNextSibling();return e}getNextSibling(){let e=this.getLatest().__next;return e===null?null:j(e)}getNextSiblings(){let e=[],n=this.getNextSibling();for(;n!==null;)e.push(n),n=n.getNextSibling();return e}getCommonAncestor(e){let n=this.getParents();var r=e.getParents();x(this)&&n.unshift(this),x(e)&&r.unshift(e),e=n.length;var i=r.length;if(e===0||i===0||n[e-1]!==r[i-1])return null;for(r=new Set(r),i=0;i<e;i++){let o=n[i];if(r.has(o))return o}return null}is(e){return e==null?!1:this.__key===e.__key}isBefore(e){if(this===e)return!1;if(e.isParentOf(this))return!0;if(this.isParentOf(e))return!1;var n=this.getCommonAncestor(e);let r=this;for(;;){var i=r.getParentOrThrow();if(i===n){i=r.getIndexWithinParent();break}r=i}for(r=e;;){if(e=r.getParentOrThrow(),e===n){n=r.getIndexWithinParent();break}r=e}return i<n}isParentOf(e){let n=this.__key;if(n===e.__key)return!1;for(;e!==null;){if(e.__key===n)return!0;e=e.getParent()}return!1}getNodesBetween(e){let n=this.isBefore(e),r=[],i=new Set;for(var o=this;;){var l=o.__key;if(i.has(l)||(i.add(l),r.push(o)),o===e)break;if(l=x(o)?n?o.getFirstChild():o.getLastChild():null,l!==null)o=l;else if(l=n?o.getNextSibling():o.getPreviousSibling(),l!==null)o=l;else{if(o=o.getParentOrThrow(),i.has(o.__key)||r.push(o),o===e)break;l=o;do l===null&&v(68),o=n?l.getNextSibling():l.getPreviousSibling(),l=l.getParent(),l!==null&&(o!==null||i.has(l.__key)||r.push(l));while(o===null)}}return n||r.reverse(),r}isDirty(){let e=I()._dirtyLeaves;return e!==null&&e.has(this.__key)}getLatest(){let e=j(this.__key);return e===null&&v(113),e}getWritable(){b();var e=me(),n=I();e=e._nodeMap;let r=this.__key,i=this.getLatest(),o=i.__parent;n=n._cloneNotNeeded;var l=k();return l!==null&&(l._cachedNodes=null),n.has(r)?(un(i),i):(l=i.constructor.clone(i),l.__parent=o,l.__next=i.__next,l.__prev=i.__prev,x(i)&&x(l)?(l.__first=i.__first,l.__last=i.__last,l.__size=i.__size,l.__indent=i.__indent,l.__format=i.__format,l.__dir=i.__dir):N(i)&&N(l)&&(l.__format=i.__format,l.__style=i.__style,l.__mode=i.__mode,l.__detail=i.__detail),n.add(r),l.__key=r,un(l),e.set(r,l),l)}getTextContent(){return""}getTextContentSize(){return this.getTextContent().length}createDOM(){v(70)}updateDOM(){v(71)}exportDOM(e){return{element:this.createDOM(e._config,e)}}exportJSON(){v(72)}static importJSON(){v(18)}static transform(){return null}remove(e){cr(this,!0,e)}replace(e,n){b();var r=k();r!==null&&(r=r.clone()),zn(this,e);let i=this.getLatest(),o=this.__key,l=e.__key,s=e.getWritable();e=this.getParentOrThrow().getWritable();let u=e.__size;ze(s);let a=i.getPreviousSibling(),c=i.getNextSibling(),d=i.__prev,h=i.__next,f=i.__parent;return cr(i,!1,!0),a===null?e.__first=l:a.getWritable().__next=l,s.__prev=d,c===null?e.__last=l:c.getWritable().__prev=l,s.__next=h,s.__parent=f,e.__size=u,n&&this.getChildren().forEach(_=>{s.append(_)}),O(r)&&(Re(r),n=r.anchor,r=r.focus,n.key===o&&ai(n,s),r.key===o&&ai(r,s)),Me()===o&&G(l),s}insertAfter(e,n=!0){b(),zn(this,e);var r=this.getWritable();let i=e.getWritable();var o=i.getParent();let l=k();var s=!1,u=!1;if(o!==null){var a=e.getIndexWithinParent();ze(i),O(l)&&(u=o.__key,s=l.anchor,o=l.focus,s=s.type==="element"&&s.key===u&&s.offset===a+1,u=o.type==="element"&&o.key===u&&o.offset===a+1)}o=this.getNextSibling(),a=this.getParentOrThrow().getWritable();let c=i.__key,d=r.__next;return o===null?a.__last=c:o.getWritable().__prev=c,a.__size++,r.__next=c,i.__next=d,i.__prev=r.__key,i.__parent=r.__parent,n&&O(l)&&(n=this.getIndexWithinParent(),gn(l,a,n+1),r=a.__key,s&&l.anchor.set(r,n+2,"element"),u&&l.focus.set(r,n+2,"element")),e}insertBefore(e,n=!0){b(),zn(this,e);var r=this.getWritable();let i=e.getWritable(),o=i.__key;ze(i);let l=this.getPreviousSibling(),s=this.getParentOrThrow().getWritable(),u=r.__prev,a=this.getIndexWithinParent();return l===null?s.__first=o:l.getWritable().__next=o,s.__size++,r.__prev=o,i.__prev=u,i.__next=r.__key,i.__parent=r.__parent,r=k(),n&&O(r)&&(n=this.getParentOrThrow(),gn(r,n,a)),e}isParentRequired(){return!1}createParentElementNode(){return He()}selectPrevious(e,n){b();let r=this.getPreviousSibling(),i=this.getParentOrThrow();return r===null?i.select(0,0):x(r)?r.select():N(r)?r.select(e,n):(e=r.getIndexWithinParent()+1,i.select(e,e))}selectNext(e,n){b();let r=this.getNextSibling(),i=this.getParentOrThrow();return r===null?i.select():x(r)?r.select(0,0):N(r)?r.select(e,n):(e=r.getIndexWithinParent(),i.select(e,e))}markDirty(){this.getWritable()}}class _e{constructor(e,n,r){this._selection=null,this.key=e,this.offset=n,this.type=r}is(e){return this.key===e.key&&this.offset===e.offset&&this.type===e.type}isBefore(e){let n=this.getNode(),r=e.getNode(),i=this.offset;if(e=e.offset,x(n)){var o=n.getDescendantByIndex(i);n=o??n}return x(r)&&(o=r.getDescendantByIndex(e),r=o??r),n===r?i<e:n.isBefore(r)}getNode(){let e=j(this.key);return e===null&&v(20),e}set(e,n,r){let i=this._selection,o=this.key;this.key=e,this.offset=n,this.type=r,ot()||(Me()===o&&G(e),i!==null&&(i._cachedNodes=null,i.dirty=!0))}}function Kn(t,e){let n=e.__key,r=t.offset,i="element";if(N(e))i="text",e=e.getTextContentSize(),r>e&&(r=e);else if(!x(e)){var o=e.getNextSibling();N(o)?(n=o.__key,r=0,i="text"):(o=e.getParent())&&(n=o.__key,r=e.getIndexWithinParent()+1)}t.set(n,r,i)}function ai(t,e){if(x(e)){let n=e.getLastDescendant();x(n)||N(n)?Kn(t,n):Kn(t,e)}else Kn(t,e)}function di(t,e,n,r){let i=t.getNode(),o=i.getChildAtIndex(t.offset),l=Y(),s=re(i)?He().append(l):l;l.setFormat(n),l.setStyle(r),o===null?i.append(s):o.insertBefore(s),t.is(e)&&e.set(l.__key,0,"text"),t.set(l.__key,0,"text")}function we(t,e,n,r){t.key=e,t.offset=n,t.type=r}class Sn{constructor(e){this.dirty=!1,this._nodes=e,this._cachedNodes=null}is(e){if(!zt(e))return!1;let n=this._nodes,r=e._nodes;return n.size===r.size&&Array.from(n).every(i=>r.has(i))}add(e){this.dirty=!0,this._nodes.add(e),this._cachedNodes=null}delete(e){this.dirty=!0,this._nodes.delete(e),this._cachedNodes=null}clear(){this.dirty=!0,this._nodes.clear(),this._cachedNodes=null}has(e){return this._nodes.has(e)}clone(){return new Sn(new Set(this._nodes))}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(e,n){let r=this.getNodes(),i=r.length;var o=r[i-1];if(N(o))o=o.select();else{let l=o.getIndexWithinParent()+1;o=o.getParentOrThrow().select(l,l)}for(o.insertNodes(e,n),e=0;e<i;e++)r[e].remove();return!0}getNodes(){var e=this._cachedNodes;if(e!==null)return e;var n=this._nodes;e=[];for(let r of n)n=j(r),n!==null&&e.push(n);return ot()||(this._cachedNodes=e),e}getTextContent(){let e=this.getNodes(),n="";for(let r=0;r<e.length;r++)n+=e[r].getTextContent();return n}}function O(t){return t instanceof Ye}class Dn{constructor(e,n,r){this.gridKey=e,this.anchor=n,this.focus=r,this.dirty=!1,this._cachedNodes=null,n._selection=this,r._selection=this}is(e){return Pr(e)?this.gridKey===e.gridKey&&this.anchor.is(e.anchor)&&this.focus.is(e.focus):!1}set(e,n,r){this.dirty=!0,this.gridKey=e,this.anchor.key=n,this.focus.key=r,this._cachedNodes=null}clone(){return new Dn(this.gridKey,this.anchor,this.focus)}isCollapsed(){return!1}isBackward(){return this.focus.isBefore(this.anchor)}getCharacterOffsets(){return rn(this)}extract(){return this.getNodes()}insertRawText(){}insertText(){}insertNodes(e,n){let r=this.focus.getNode();return Co(r.select(0,r.getChildrenSize())).insertNodes(e,n)}getShape(){var e=j(this.anchor.key);e===null&&v(21);var n=e.getIndexWithinParent();e=e.getParentOrThrow().getIndexWithinParent();var r=j(this.focus.key);r===null&&v(22);var i=r.getIndexWithinParent();let o=r.getParentOrThrow().getIndexWithinParent();return r=Math.min(n,i),n=Math.max(n,i),i=Math.min(e,o),e=Math.max(e,o),{fromX:Math.min(r,n),fromY:Math.min(i,e),toX:Math.max(r,n),toY:Math.max(i,e)}}getNodes(){function e(T){let{cell:S,startColumn:$,startRow:M}=T;u=Math.min(u,$),a=Math.min(a,M),c=Math.max(c,$+S.__colSpan-1),d=Math.max(d,M+S.__rowSpan-1)}var n=this._cachedNodes;if(n!==null)return n;var r=this.anchor.getNode();n=this.focus.getNode(),r=fn(r,ge);var i=fn(n,ge);ge(r)||v(103),ge(i)||v(104),n=r.getParent(),It(n)||v(105),n=n.getParent(),Br(n)||v(106);let[o,l,s]=zo(n,r,i),u=Math.min(l.startColumn,s.startColumn),a=Math.min(l.startRow,s.startRow),c=Math.max(l.startColumn+l.cell.__colSpan-1,s.startColumn+s.cell.__colSpan-1),d=Math.max(l.startRow+l.cell.__rowSpan-1,s.startRow+s.cell.__rowSpan-1);r=u,i=a;for(var h=u,f=a;u<r||a<i||c>h||d>f;){if(u<r){var _=f-i;--r;for(var y=0;y<=_;y++)e(o[i+y][r])}if(a<i)for(_=h-r,--i,y=0;y<=_;y++)e(o[i][r+y]);if(c>h)for(_=f-i,h+=1,y=0;y<=_;y++)e(o[i+y][h]);if(d>f)for(_=h-r,f+=1,y=0;y<=_;y++)e(o[f][r+y])}for(n=[n],r=null,i=a;i<=d;i++)for(h=u;h<=c;h++)({cell:f}=o[i][h]),_=f.getParent(),It(_)||v(107),_!==r&&n.push(_),n.push(f,...Vl(f)),r=_;return ot()||(this._cachedNodes=n),n}getTextContent(){let e=this.getNodes(),n="";for(let r=0;r<e.length;r++)n+=e[r].getTextContent();return n}}function Pr(t){return t instanceof Dn}class Ye{constructor(e,n,r,i){this.anchor=e,this.focus=n,this.dirty=!1,this.format=r,this.style=i,this._cachedNodes=null,e._selection=this,n._selection=this}is(e){return O(e)?this.anchor.is(e.anchor)&&this.focus.is(e.focus)&&this.format===e.format&&this.style===e.style:!1}isBackward(){return this.focus.isBefore(this.anchor)}isCollapsed(){return this.anchor.is(this.focus)}getNodes(){var e=this._cachedNodes;if(e!==null)return e;e=this.anchor;var n=this.focus,r=e.isBefore(n),i=r?e:n;r=r?n:e,e=i.getNode(),n=r.getNode();let o=i.offset;return i=r.offset,x(e)&&(r=e.getDescendantByIndex(o),e=r??e),x(n)&&(r=n.getDescendantByIndex(i),r!==null&&r!==e&&n.getChildAtIndex(i)===r&&(r=r.getPreviousSibling()),n=r??n),e=e.is(n)?x(e)&&0<e.getChildrenSize()?[]:[e]:e.getNodesBetween(n),ot()||(this._cachedNodes=e),e}setTextNodeRange(e,n,r,i){we(this.anchor,e.__key,n,"text"),we(this.focus,r.__key,i,"text"),this._cachedNodes=null,this.dirty=!0}getTextContent(){let e=this.getNodes();if(e.length===0)return"";let n=e[0],r=e[e.length-1],i=this.anchor,o=this.focus,l=i.isBefore(o),[s,u]=rn(this),a="",c=!0;for(let d=0;d<e.length;d++){let h=e[d];if(x(h)&&!h.isInline())c||(a+=`
`),c=!h.isEmpty();else if(c=!1,N(h)){let f=h.getTextContent();h===n?h===r?(i.type!=="element"||o.type!=="element"||o.offset===i.offset)&&(f=s<u?f.slice(s,u):f.slice(u,s)):f=l?f.slice(s):f.slice(u):h===r&&(f=l?f.slice(0,u):f.slice(0,s)),a+=f}else!A(h)&&!Pt(h)||h===r&&this.isCollapsed()||(a+=h.getTextContent())}return a}applyDOMRange(e){let n=I(),r=n.getEditorState()._selection;if(e=Lo(e.startContainer,e.startOffset,e.endContainer,e.endOffset,n,r),e!==null){var[i,o]=e;we(this.anchor,i.key,i.offset,i.type),we(this.focus,o.key,o.offset,o.type),this._cachedNodes=null}}clone(){let e=this.anchor,n=this.focus;return new Ye(new _e(e.key,e.offset,e.type),new _e(n.key,n.offset,n.type),this.format,this.style)}toggleFormat(e){this.format=so(this.format,e,null),this.dirty=!0}setStyle(e){this.style=e,this.dirty=!0}hasFormat(e){return(this.format&Be[e])!==0}insertRawText(e){let n=e.split(/\r?\n/);if(n.length===1)this.insertText(e);else{e=[];let r=n.length;for(let i=0;i<r;i++){let o=n[i];o!==""&&e.push(Y(o)),i!==r-1&&e.push(it())}this.insertNodes(e)}}insertText(e){var n=this.anchor,r=this.focus,i=this.isCollapsed()||n.isBefore(r),o=this.format,l=this.style;i&&n.type==="element"?di(n,r,o,l):i||r.type!=="element"||di(r,n,o,l);var s=this.getNodes(),u=s.length,a=i?r:n;r=(i?n:r).offset;var c=a.offset;n=s[0],N(n)||v(26),i=n.getTextContent().length;var d=n.getParentOrThrow(),h=s[u-1];if(this.isCollapsed()&&r===i&&(n.isSegmented()||n.isToken()||!n.canInsertTextAfter()||!d.canInsertTextAfter()&&n.getNextSibling()===null)){var f=n.getNextSibling();if((!N(f)||Zn(f))&&(f=Y(),f.setFormat(o),d.canInsertTextAfter()?n.insertAfter(f):d.insertAfter(f)),f.select(0,0),n=f,e!==""){this.insertText(e);return}}else if(this.isCollapsed()&&r===0&&(n.isSegmented()||n.isToken()||!n.canInsertTextBefore()||!d.canInsertTextBefore()&&n.getPreviousSibling()===null)){if(f=n.getPreviousSibling(),(!N(f)||Zn(f))&&(f=Y(),f.setFormat(o),d.canInsertTextBefore()?n.insertBefore(f):d.insertBefore(f)),f.select(),n=f,e!==""){this.insertText(e);return}}else if(n.isSegmented()&&r!==i)d=Y(n.getTextContent()),d.setFormat(o),n.replace(d),n=d;else if(!(this.isCollapsed()||e===""||(f=h.getParent(),d.canInsertTextBefore()&&d.canInsertTextAfter()&&(!x(f)||f.canInsertTextBefore()&&f.canInsertTextAfter())))){this.insertText(""),Io(this.anchor,this.focus,null),this.insertText(e);return}if(u===1)if(n.isToken())e=Y(e),e.select(),n.replace(e);else{if(s=n.getFormat(),u=n.getStyle(),r===c&&(s!==o||u!==l))if(n.getTextContent()==="")n.setFormat(o),n.setStyle(l);else{s=Y(e),s.setFormat(o),s.setStyle(l),s.select(),r===0?n.insertBefore(s,!1):([u]=n.splitText(r),u.insertAfter(s,!1)),s.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length);return}n=n.spliceText(r,c-r,e,!0),n.getTextContent()===""?n.remove():this.anchor.type==="text"&&(n.isComposing()?this.anchor.offset-=e.length:(this.format=s,this.style=u))}else{if(o=new Set([...n.getParentKeys(),...h.getParentKeys()]),f=x(n)?n:n.getParentOrThrow(),l=x(h)?h:h.getParentOrThrow(),d=h,!f.is(l)&&l.isInline())do d=l,l=l.getParentOrThrow();while(l.isInline());a.type==="text"&&(c!==0||h.getTextContent()==="")||a.type==="element"&&h.getIndexWithinParent()<c?N(h)&&!h.isToken()&&c!==h.getTextContentSize()?(h.isSegmented()&&(a=Y(h.getTextContent()),h.replace(a),h=a),h=h.spliceText(0,c,""),o.add(h.__key)):(a=h.getParentOrThrow(),a.canBeEmpty()||a.getChildrenSize()!==1?h.remove():a.remove()):o.add(h.__key),a=l.getChildren(),c=new Set(s),h=f.is(l),f=f.isInline()&&n.getNextSibling()===null?f:n;for(let _=a.length-1;0<=_;_--){let y=a[_];if(y.is(n)||x(y)&&y.isParentOf(n))break;y.isAttached()&&(!c.has(y)||y.is(d)?h||f.insertAfter(y,!1):y.remove())}if(!h)for(a=l,c=null;a!==null;)l=a.getChildren(),h=l.length,(h===0||l[h-1].is(c))&&(o.delete(a.__key),c=a),a=a.getParent();for(n.isToken()?r===i?n.select():(e=Y(e),e.select(),n.replace(e)):(n=n.spliceText(r,i-r,e,!0),n.getTextContent()===""?n.remove():n.isComposing()&&this.anchor.type==="text"&&(this.anchor.offset-=e.length)),e=1;e<u;e++)n=s[e],o.has(n.__key)||n.remove()}}removeText(){this.insertText("")}formatText(e){if(this.isCollapsed())this.toggleFormat(e),G(null);else{var n=this.getNodes(),r=[];for(var i of n)N(i)&&r.push(i);var o=r.length;if(o===0)this.toggleFormat(e),G(null);else{i=this.anchor;var l=this.focus,s=this.isBackward();n=s?l:i,i=s?i:l;var u=0,a=r[0];if(l=n.type==="element"?0:n.offset,n.type==="text"&&l===a.getTextContentSize()&&(u=1,a=r[1],l=0),a!=null){s=a.getFormatFlags(e,null);var c=o-1,d=r[c];if(o=i.type==="text"?i.offset:d.getTextContentSize(),a.is(d))l!==o&&(l===0&&o===a.getTextContentSize()?a.setFormat(s):(e=a.splitText(l,o),e=l===0?e[0]:e[1],e.setFormat(s),n.type==="text"&&n.set(e.__key,0,"text"),i.type==="text"&&i.set(e.__key,o-l,"text")),this.format=s);else{l!==0&&([,a]=a.splitText(l),l=0),a.setFormat(s);var h=d.getFormatFlags(e,s);for(0<o&&(o!==d.getTextContentSize()&&([d]=d.splitText(o)),d.setFormat(h)),u+=1;u<c;u++){let f=r[u];if(!f.isToken()){let _=f.getFormatFlags(e,h);f.setFormat(_)}}n.type==="text"&&n.set(a.__key,l,"text"),i.type==="text"&&i.set(d.__key,o,"text"),this.format=s|h}}}}}insertNodes(e,n){if(!this.isCollapsed()){var r=this.isBackward()?this.anchor:this.focus,i=r.getNode().getNextSibling();if(i=i?i.getKey():null,r=(r=r.getNode().getPreviousSibling())?r.getKey():null,this.removeText(),this.isCollapsed()&&this.focus.type==="element"){if(this.focus.key===i&&this.focus.offset===0){var o=Y();this.focus.getNode().insertBefore(o)}else this.focus.key===r&&this.focus.offset===this.focus.getNode().getChildrenSize()&&(o=Y(),this.focus.getNode().insertAfter(o));o&&(this.focus.set(o.__key,0,"text"),this.anchor.set(o.__key,0,"text"))}}o=this.anchor,r=o.offset;var l=o.getNode();i=l,o.type==="element"&&(o=o.getNode(),i=o.getChildAtIndex(r-1),i=i===null?o:i),o=[];var s=l.getNextSiblings(),u=ue(l)?null:l.getTopLevelElementOrThrow();if(N(l))if(i=l.getTextContent().length,r===0&&i!==0)i=l.getPreviousSibling(),i=i!==null?i:l.getParentOrThrow(),o.push(l);else if(r===i)i=l;else{if(l.isToken())return!1;[i,l]=l.splitText(r),o.push(l)}l=i,o.push(...s),s=e[0];var a=!1,c=null;for(let _=0;_<e.length;_++){var d=e[_];if(ue(i)||A(i)||!x(d)||d.isInline())a&&!x(d)&&!A(d)&&ue(i.getParent())&&v(28);else{if(d.is(s)){if(x(i)&&i.isEmpty()&&i.canReplaceWith(d)){i.replace(d),i=d,a=!0;continue}if(a=d.getFirstDescendant(),uo(a)){for(var h=a.getParentOrThrow();h.isInline();)h=h.getParentOrThrow();if(c=h.getChildren(),a=c.length,x(i)){var f=i.getFirstChild();for(let y=0;y<a;y++){let T=c[y];f===null?i.append(T):f.insertAfter(T),f=T}}else{for(f=a-1;0<=f;f--)i.insertAfter(c[f]);i=i.getParentOrThrow()}if(c=c[a-1],h.remove(),a=!0,h.is(d))continue}}N(i)&&(u===null&&v(27),i=u)}a=!1,x(i)&&!i.isInline()?(c=d,A(d)&&!d.isInline()?i=i.insertAfter(d,!1):x(d)?(d.canBeEmpty()||!d.isEmpty())&&(re(i)?(h=i.getChildAtIndex(r),h!==null?h.insertBefore(d):i.append(d),i=d):d.isInline()?(i.append(d),i=d):i=i.insertAfter(d,!1)):(h=i.getFirstChild(),h!==null?h.insertBefore(d):i.append(d),i=d)):!x(d)||x(d)&&d.isInline()||A(i)&&!i.isInline()?(c=d,O(this)&&A(d)&&(x(i)||N(i))&&!d.isInline()?(N(i)?(h=i.getParentOrThrow(),[i]=i.splitText(r),i=i.getIndexWithinParent()+1):(h=i,i=r),[,i]=yo(h,i),i=i.insertBefore(d)):i=i.insertAfter(d,!1)):(d=i.getParentOrThrow(),Pt(i)&&i.remove(),i=d,_--)}if(n&&(N(l)?l.select():(e=i.getPreviousSibling(),N(e)?e.select():(e=i.getIndexWithinParent(),i.getParentOrThrow().select(e,e)))),x(i)){if(e=N(c)?c:x(c)&&c.isInline()?c.getLastDescendant():i.getLastDescendant(),n||(e===null?i.select():N(e)?e.getTextContent()===""?e.selectPrevious():e.select():e.selectNext()),o.length!==0)for(n=i,e=o.length-1;0<=e;e--)r=o[e],u=r.getParentOrThrow(),!x(i)||_i(r)||A(r)&&(!r.isInline()||r.isIsolated())?x(i)||_i(r)?x(r)&&!r.canInsertAfter(i)?(l=u.constructor.clone(u),x(l)||v(29),l.append(r),i.insertAfter(l)):i.insertAfter(r):(i.insertBefore(r),i=r):(n===i?i.append(r):i.insertBefore(r),i=r),u.isEmpty()&&!u.canBeEmpty()&&u.remove()}else n||(N(i)?i.select():(n=i.getParentOrThrow(),e=i.getIndexWithinParent()+1,n.select(e,e)));return!0}insertParagraph(){this.isCollapsed()||this.removeText();var e=this.anchor,n=e.offset,r=[];if(e.type==="text"){var i=e.getNode(),o=i.getNextSiblings().reverse(),l=i.getParentOrThrow(),s=l.isInline(),u=s?l.getTextContentSize():i.getTextContentSize();n===0?o.push(i):(s&&(r=l.getNextSiblings()),n===u||s&&n===i.getTextContentSize()||([,i]=i.splitText(n),o.push(i)))}else{if(l=e.getNode(),ue(l)){o=He(),r=l.getChildAtIndex(n),o.select(),r!==null?r.insertBefore(o,!1):l.append(o);return}o=l.getChildren().slice(n).reverse()}if(i=o.length,n===0&&0<i&&l.isInline()){if(r=l.getParentOrThrow(),o=r.insertNewAfter(this,!1),x(o))for(r=r.getChildren(),l=0;l<r.length;l++)o.append(r[l])}else if(s=l.insertNewAfter(this,!1),s===null)this.insertLineBreak();else if(x(s))if(u=l.getFirstChild(),n===0&&(l.is(e.getNode())||u&&u.is(e.getNode()))&&0<i)l.insertBefore(s);else{if(l=null,n=r.length,e=s.getParentOrThrow(),0<n)for(u=0;u<n;u++)e.append(r[u]);if(i!==0)for(r=0;r<i;r++)n=o[r],l===null?s.append(n):l.insertBefore(n),l=n;s.canBeEmpty()||s.getChildrenSize()!==0?s.selectStart():(s.selectPrevious(),s.remove())}}insertLineBreak(e){let n=it();var r=this.anchor;r.type==="element"&&(r=r.getNode(),re(r)&&this.insertParagraph()),e?this.insertNodes([n],!0):this.insertNodes([n])&&n.selectNext(0,0)}getCharacterOffsets(){return rn(this)}extract(){var e=this.getNodes(),n=e.length,r=n-1,i=this.anchor;let o=this.focus;var l=e[0];let s=e[r],[u,a]=rn(this);return n===0?[]:n===1?N(l)&&!this.isCollapsed()?(e=u>a?a:u,r=l.splitText(e,u>a?u:a),e=e===0?r[0]:r[1],e!=null?[e]:[]):[l]:(n=i.isBefore(o),N(l)&&(i=n?u:a,i===l.getTextContentSize()?e.shift():i!==0&&([,l]=l.splitText(i),e[0]=l)),N(s)&&(l=s.getTextContent().length,n=n?a:u,n===0?e.pop():n!==l&&([s]=s.splitText(n),e[r]=s)),e)}modify(e,n,r){var i=this.focus,o=this.anchor,l=e==="move",s=bn(i,n);if(A(s)&&!s.isIsolated())l&&s.isKeyboardSelectable()?(n=fr(),n.add(s.__key),Re(n)):(e=n?s.getPreviousSibling():s.getNextSibling(),N(e)?(s=e.__key,n=n?e.getTextContent().length:0,i.set(s,n,"text"),l&&o.set(s,n,"text")):(r=s.getParentOrThrow(),x(e)?(r=e.__key,s=n?e.getChildrenSize():0):(s=s.getIndexWithinParent(),r=r.__key,n||s++),i.set(r,s,"element"),l&&o.set(r,s,"element")));else if(o=I(),i=pe(o._window)){var u=o._blockCursorElement,a=o._rootElement;if(a===null||u===null||!x(s)||s.isInline()||s.canBeEmpty()||er(u,o,a),i.modify(e,n?"backward":"forward",r),0<i.rangeCount&&(s=i.getRangeAt(0),o=this.anchor.getNode(),o=re(o)?o:po(o),this.applyDOMRange(s),this.dirty=!0,!l)){for(l=this.getNodes(),e=[],r=!1,u=0;u<l.length;u++)a=l[u],cn(a,o)?e.push(a):r=!0;r&&0<e.length&&(n?(n=e[0],x(n)?n.selectStart():n.getParentOrThrow().selectStart()):(n=e[e.length-1],x(n)?n.selectEnd():n.getParentOrThrow().selectEnd())),(i.anchorNode!==s.startContainer||i.anchorOffset!==s.startOffset)&&(n=this.focus,l=this.anchor,i=l.key,s=l.offset,o=l.type,we(l,n.key,n.offset,n.type),we(n,i,s,o),this._cachedNodes=null)}}}deleteCharacter(e){if(this.isCollapsed()){var n=this.anchor,r=this.focus,i=n.getNode();if(!e&&(n.type==="element"&&x(i)&&n.offset===i.getChildrenSize()||n.type==="text"&&n.offset===i.getTextContentSize())){var o=i.getParent();if(o=i.getNextSibling()||(o===null?null:o.getNextSibling()),x(o)&&!o.canExtractContents())return}if(o=bn(r,e),A(o)&&!o.isIsolated()){o.isKeyboardSelectable()&&x(i)&&i.getChildrenSize()===0?(i.remove(),e=fr(),e.add(o.__key),Re(e)):o.remove();return}if(this.modify("extend",e,"character"),this.isCollapsed()){if(e&&n.offset===0&&(n.type==="element"?n.getNode():n.getNode().getParentOrThrow()).collapseAtStart(this))return}else{if(o=r.type==="text"?r.getNode():null,i=n.type==="text"?n.getNode():null,o!==null&&o.isSegmented()){if(n=r.offset,r=o.getTextContentSize(),o.is(i)||e&&n!==r||!e&&n!==0){fi(o,e,n);return}}else if(i!==null&&i.isSegmented()&&(n=n.offset,r=i.getTextContentSize(),i.is(o)||e&&n!==0||!e&&n!==r)){fi(i,e,n);return}if(i=this.anchor,o=this.focus,n=i.getNode(),r=o.getNode(),n===r&&i.type==="text"&&o.type==="text"){var l=i.offset,s=o.offset;let u=l<s;r=u?l:s,s=u?s:l,l=s-1,r!==l&&(n=n.getTextContent().slice(r,s),ho(n)||(e?o.offset=l:i.offset=l))}}}i=this.isCollapsed(),this.removeText(),e&&!i&&this.isCollapsed()&&this.anchor.type==="element"&&this.anchor.offset===0&&(e=this.anchor.getNode(),e.isEmpty()&&re(e.getParent())&&e.getIndexWithinParent()===0&&e.collapseAtStart(this))}deleteLine(e){this.isCollapsed()&&(this.anchor.type==="text"&&this.modify("extend",e,"lineboundary"),(e?this.focus:this.anchor).offset===0&&this.modify("extend",e,"character")),this.removeText()}deleteWord(e){this.isCollapsed()&&this.modify("extend",e,"word"),this.removeText()}}function zt(t){return t instanceof Sn}function ci(t){let e=t.offset;return t.type==="text"?e:(t=t.getNode(),e===t.getChildrenSize()?t.getTextContent().length:0)}function rn(t){let e=t.anchor;return t=t.focus,e.type==="element"&&t.type==="element"&&e.key===t.key&&e.offset===t.offset?[0,0]:[ci(e),ci(t)]}function fi(t,e,n){let r=t.getTextContent().split(/(?=\s)/g),i=r.length,o=0,l=0;for(let s=0;s<i;s++){let u=r[s],a=s===i-1;if(l=o,o+=u.length,e&&o===n||o>n||a){r.splice(s,1),a&&(l=void 0);break}}e=r.join("").trim(),e===""?t.remove():(t.setTextContent(e),t.select(l,l))}function hi(t,e,n,r){var i=e;if(t.nodeType===1){let s=!1;var o=t.childNodes,l=o.length;i===l&&(s=!0,i=l-1);let u=o[i];if(l=!1,u===r._blockCursorElement?(u=o[i+1],l=!0):r._blockCursorElement!==null&&i--,r=Ze(u),N(r))i=s?r.getTextContentSize():0;else{if(o=Ze(t),o===null)return null;if(x(o)?(t=o.getChildAtIndex(i),(e=x(t))&&(e=t.getParent(),e=n===null||e===null||!e.canBeEmpty()||e!==n.getNode()),e&&(n=s?t.getLastDescendant():t.getFirstDescendant(),n===null?(o=t,i=0):(t=n,o=x(t)?t:t.getParentOrThrow())),N(t)?(r=t,o=null,i=s?t.getTextContentSize():0):t!==o&&s&&!l&&i++):(i=o.getIndexWithinParent(),i=e===0&&A(o)&&Ze(t)===o?i:i+1,o=o.getParentOrThrow()),x(o))return new _e(o.__key,i,"element")}}else r=Ze(t);return N(r)?new _e(r.__key,i,"text"):null}function gi(t,e,n){var r=t.offset,i=t.getNode();r===0?(r=i.getPreviousSibling(),i=i.getParent(),e?(n||!e)&&r===null&&x(i)&&i.isInline()&&(e=i.getPreviousSibling(),N(e)&&(t.key=e.__key,t.offset=e.getTextContent().length)):x(r)&&!n&&r.isInline()?(t.key=r.__key,t.offset=r.getChildrenSize(),t.type="element"):N(r)&&(t.key=r.__key,t.offset=r.getTextContent().length)):r===i.getTextContent().length&&(r=i.getNextSibling(),i=i.getParent(),e&&x(r)&&r.isInline()?(t.key=r.__key,t.offset=0,t.type="element"):(n||e)&&r===null&&x(i)&&i.isInline()&&!i.canInsertTextAfter()&&(e=i.getNextSibling(),N(e)&&(t.key=e.__key,t.offset=0)))}function Io(t,e,n){if(t.type==="text"&&e.type==="text"){var r=t.isBefore(e);let i=t.is(e);gi(t,r,i),gi(e,!r,i),i&&(e.key=t.key,e.offset=t.offset,e.type=t.type),r=I(),r.isComposing()&&r._compositionKey!==t.key&&O(n)&&(r=n.anchor,n=n.focus,we(t,r.key,r.offset,r.type),we(e,n.key,n.offset,n.type))}}function Lo(t,e,n,r,i,o){return t===null||n===null||!Lt(i,t,n)||(e=hi(t,e,O(o)?o.anchor:null,i),e===null)||(r=hi(n,r,O(o)?o.focus:null,i),r===null||e.type==="element"&&r.type==="element"&&(t=Ze(t),n=Ze(n),A(t)&&A(n)))?null:(Io(e,r,o),[e,r])}function _i(t){return x(t)&&!t.isInline()}function Fo(t,e,n,r,i,o){let l=me();return t=new Ye(new _e(t,e,i),new _e(n,r,o),0,""),t.dirty=!0,l._selection=t}function fr(){return new Sn(new Set)}function os(t){let e=t.getEditorState()._selection,n=pe(t._window);return zt(e)||Pr(e)?e.clone():Bo(e,n,t)}function Bo(t,e,n){var r=n._window;if(r===null)return null;var i=r.event,o=i?i.type:void 0;r=o==="selectionchange",i=!Qn&&(r||o==="beforeinput"||o==="compositionstart"||o==="compositionend"||o==="click"&&i&&i.detail===3||o==="drop"||o===void 0);let l;if(!O(t)||i){if(e===null)return null;if(i=e.anchorNode,o=e.focusNode,l=e.anchorOffset,e=e.focusOffset,r&&O(t)&&!Lt(n,i,o))return t.clone()}else return t.clone();if(n=Lo(i,l,o,e,n,t),n===null)return null;let[s,u]=n;return new Ye(s,u,O(t)?t.format:0,O(t)?t.style:"")}function k(){return me()._selection}function jt(){return I()._editorState._selection}function gn(t,e,n,r=1){var i=t.anchor,o=t.focus,l=i.getNode(),s=o.getNode();if(e.is(l)||e.is(s))if(l=e.__key,t.isCollapsed())e=i.offset,n<=e&&(n=Math.max(0,e+r),i.set(l,n,"element"),o.set(l,n,"element"),pi(t));else{var u=t.isBackward();s=u?o:i;var a=s.getNode();i=u?i:o,o=i.getNode(),e.is(a)&&(a=s.offset,n<=a&&s.set(l,Math.max(0,a+r),"element")),e.is(o)&&(e=i.offset,n<=e&&i.set(l,Math.max(0,e+r),"element")),pi(t)}}function pi(t){var e=t.anchor,n=e.offset;let r=t.focus;var i=r.offset,o=e.getNode(),l=r.getNode();if(t.isCollapsed())x(o)&&(l=o.getChildrenSize(),l=(i=n>=l)?o.getChildAtIndex(l-1):o.getChildAtIndex(n),N(l)&&(n=0,i&&(n=l.getTextContentSize()),e.set(l.__key,n,"text"),r.set(l.__key,n,"text")));else{if(x(o)){let s=o.getChildrenSize();n=(t=n>=s)?o.getChildAtIndex(s-1):o.getChildAtIndex(n),N(n)&&(o=0,t&&(o=n.getTextContentSize()),e.set(n.__key,o,"text"))}x(l)&&(n=l.getChildrenSize(),i=(e=i>=n)?l.getChildAtIndex(n-1):l.getChildAtIndex(i),N(i)&&(l=0,e&&(l=i.getTextContentSize()),r.set(i.__key,l,"text")))}}function ls(t,e){if(e=e.getEditorState()._selection,t=t._selection,O(t)){var n=t.anchor;let r=t.focus,i;n.type==="text"&&(i=n.getNode(),i.selectionTransform(e,t)),r.type==="text"&&(n=r.getNode(),i!==n&&n.selectionTransform(e,t))}}function _n(t,e,n,r,i){let o=null,l=0,s=null;r!==null?(o=r.__key,N(r)?(l=r.getTextContentSize(),s="text"):x(r)&&(l=r.getChildrenSize(),s="element")):i!==null&&(o=i.__key,N(i)?s="text":x(i)&&(s="element")),o!==null&&s!==null?t.set(o,l,s):(l=e.getIndexWithinParent(),l===-1&&(l=n.getChildrenSize()),t.set(n.__key,l,"element"))}function mi(t,e,n,r,i){t.type==="text"?(t.key=n,e||(t.offset+=i)):t.offset>r.getIndexWithinParent()&&--t.offset}function zo(t,e,n){let r=[],i=null,o=null;t=t.getChildren();for(let c=0;c<t.length;c++){var l=t[c];It(l)||v(108);var s=l.getChildren();l=0;for(let d of s){for(ge(d)||v(109);r[c]!==void 0&&r[c][l]!==void 0;)l++;s=c;var u=l,a=d;let h={cell:a,startColumn:u,startRow:s},f=a.__rowSpan,_=a.__colSpan;for(let y=0;y<f;y++){r[s+y]===void 0&&(r[s+y]=[]);for(let T=0;T<_;T++)r[s+y][u+T]=h}e.is(a)&&(i=h),n.is(a)&&(o=h),l+=d.__colSpan}}return i===null&&v(110),o===null&&v(111),[r,i,o]}let W=null,K=null,ie=!1,Hn=!1,kt=0,yi={characterData:!0,childList:!0,subtree:!0};function ot(){return ie||W!==null&&W._readOnly}function b(){ie&&v(13)}function me(){return W===null&&v(15),W}function I(){return K===null&&v(16),K}function xi(t,e,n){var r=e.__type;let i=t._nodes.get(r);for(i===void 0&&v(30),t=n.get(r),t===void 0&&(t=Array.from(i.transforms),n.set(r,t)),n=t.length,r=0;r<n&&(t[r](e),e.isAttached());r++);}function ss(t,e){e=e._dirtyLeaves,t=t._nodeMap;for(let n of e)e=t.get(n),N(e)&&e.isAttached()&&e.isSimpleText()&&!e.isUnmergeable()&&vo(e)}function us(t,e){let n=e._dirtyLeaves,r=e._dirtyElements;t=t._nodeMap;let i=Me(),o=new Map;var l=n;let s=l.size;for(var u=r,a=u.size;0<s||0<a;){if(0<s){e._dirtyLeaves=new Set;for(let c of l)l=t.get(c),N(l)&&l.isAttached()&&l.isSimpleText()&&!l.isUnmergeable()&&vo(l),l!==void 0&&l!==void 0&&l.__key!==i&&l.isAttached()&&xi(e,l,o),n.add(c);if(l=e._dirtyLeaves,s=l.size,0<s){kt++;continue}}e._dirtyLeaves=new Set,e._dirtyElements=new Map;for(let c of u)u=c[0],a=c[1],(u==="root"||a)&&(l=t.get(u),l!==void 0&&l!==void 0&&l.__key!==i&&l.isAttached()&&xi(e,l,o),r.set(u,a));l=e._dirtyLeaves,s=l.size,u=e._dirtyElements,a=u.size,kt++}e._dirtyLeaves=n,e._dirtyElements=r}function Ir(t,e){var n=e.get(t.type);if(n===void 0&&v(17),n=n.klass,t.type!==n.getType()&&v(18),n=n.importJSON(t),t=t.children,x(n)&&Array.isArray(t))for(let r=0;r<t.length;r++){let i=Ir(t[r],e);n.append(i)}return n}function vi(t,e){let n=W,r=ie,i=K;W=t,ie=!0,K=null;try{return e()}finally{W=n,ie=r,K=i}}function je(t){let e=t._pendingEditorState,n=t._rootElement,r=t._headless||n===null;if(e!==null){var i=t._editorState,o=i._selection,l=e._selection,s=t._dirtyType!==0,u=W,a=ie,c=K,d=t._updating,h=t._observer,f=null;if(t._pendingEditorState=null,t._editorState=e,!r&&s&&h!==null){K=t,W=e,ie=!1,t._updating=!0;try{let P=t._dirtyType,q=t._dirtyElements,X=t._dirtyLeaves;h.disconnect();var _=P,y=q,T=X;Z=ve=L="",No=_===2,en=null,V=t,Ae=t._config,Mt=t._nodes,En=V._listeners.mutation,tr=y,nr=T,Ke=i._nodeMap,ke=e._nodeMap,kr=e._readOnly,rr=new Map(t._keyToDOMMap);let de=new Map;Rt=de,gt("root",null),Rt=rr=Ae=ke=Ke=nr=tr=Mt=V=void 0,f=de}catch(P){if(P instanceof Error&&t._onError(P),Hn)throw P;Ho(t,null,n,e),oo(t),t._dirtyType=2,Hn=!0,je(t),Hn=!1;return}finally{h.observe(n,yi),t._updating=d,W=u,ie=a,K=c}}e._readOnly||(e._readOnly=!0);var S=t._dirtyLeaves,$=t._dirtyElements,M=t._normalizedNodes,ee=t._updateTags,w=t._deferred;s&&(t._dirtyType=0,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements=new Map,t._normalizedNodes=new Set,t._updateTags=new Set);var B=t._decorators,J=t._pendingDecorators||B,Cl=e._nodeMap,Mn;for(Mn in J)Cl.has(Mn)||(J===B&&(J=fo(t)),delete J[Mn]);var ae=r?null:pe(t._window);if(t._editable&&ae!==null&&(s||l===null||l.dirty)){K=t,W=e;try{if(h!==null&&h.disconnect(),s||l===null||l.dirty){let P=t._blockCursorElement;P!==null&&er(P,t,n);e:{let q=ae.anchorNode,X=ae.focusNode,de=ae.anchorOffset,ht=ae.focusOffset,le=document.activeElement;if(!(ee.has("collaboration")&&le!==n||le!==null&&lo(le)))if(O(l)){var ct=l.anchor,Rn=l.focus,Ur=ct.key,Nl=Rn.key,Jr=dn(t,Ur),Vr=dn(t,Nl),Ht=ct.offset,qr=Rn.offset,An=l.format,kn=l.style,Xr=l.isCollapsed(),ft=Jr,Yt=Vr,Pn=!1;if(ct.type==="text"){ft=sn(Jr);let ce=ct.getNode();Pn=ce.getFormat()!==An||ce.getStyle()!==kn}else O(o)&&o.anchor.type==="text"&&(Pn=!0);if(Rn.type==="text"&&(Yt=sn(Vr)),ft!==null&&Yt!==null){if(Xr&&(o===null||Pn||O(o)&&(o.format!==An||o.style!==kn))){var Tl=performance.now();Mo=[An,kn,Ht,Ur,Tl]}if(de===Ht&&ht===qr&&q===ft&&X===Yt&&(ae.type!=="Range"||!Xr)&&(le!==null&&n.contains(le)||n.focus({preventScroll:!0}),ct.type!=="element"))break e;try{ae.setBaseAndExtent(ft,Ht,Yt,qr)}catch{}if(!ee.has("skip-scroll-into-view")&&l.isCollapsed()&&n!==null&&n===document.activeElement){let ce=l instanceof Ye&&l.anchor.type==="element"?ft.childNodes[Ht]||null:0<ae.rangeCount?ae.getRangeAt(0):null;if(ce!==null){let fe=ce.getBoundingClientRect(),De=n.ownerDocument,Ie=De.defaultView;if(Ie!==null)for(var{top:In,bottom:Ln}=fe,Gt,Ut,Se=n;Se!==null;){let he=Se===De.body;if(he)Gt=0,Ut=Nn(t).innerHeight;else{let Jt=Se.getBoundingClientRect();Gt=Jt.top,Ut=Jt.bottom}let Le=0;if(In<Gt?Le=-(Gt-In):Ln>Ut&&(Le=Ln-Ut),Le!==0)if(he)Ie.scrollBy(0,Le);else{let Jt=Se.scrollTop;Se.scrollTop+=Le;let br=Se.scrollTop-Jt;In-=br,Ln-=br}if(he)break;Se=Cn(Se)}}}ur=!0}}else o!==null&&Lt(t,q,X)&&ae.removeAllRanges()}}e:{let P=t._blockCursorElement;if(O(l)&&l.isCollapsed()&&l.anchor.type==="element"&&n.contains(document.activeElement)){let q=l.anchor,X=q.getNode(),de=q.offset,ht=X.getChildrenSize(),le=!1,ce=null;if(de===ht){let fe=X.getChildAtIndex(de-1);jn(fe)&&(le=!0)}else{let fe=X.getChildAtIndex(de);if(jn(fe)){let De=fe.getPreviousSibling();(De===null||jn(De))&&(le=!0,ce=t.getElementByKey(fe.__key))}}if(le){let fe=t.getElementByKey(X.__key);if(P===null){let De=t._config.theme,Ie=document.createElement("div");Ie.contentEditable="false",Ie.setAttribute("data-lexical-cursor","true");let he=De.blockCursor;if(he!==void 0){if(typeof he=="string"){let Le=he.split(" ");he=De.blockCursor=Le}he!==void 0&&Ie.classList.add(...he)}t._blockCursorElement=P=Ie}n.style.caretColor="transparent",ce===null?fe.appendChild(P):fe.insertBefore(P,ce);break e}}P!==null&&er(P,t,n)}h!==null&&h.observe(n,yi)}finally{K=c,W=u}}if(f!==null){var El=f;let P=Array.from(t._listeners.mutation),q=P.length;for(let X=0;X<q;X++){let[de,ht]=P[X],le=El.get(ht);le!==void 0&&de(le,{dirtyLeaves:S,updateTags:ee})}}O(l)||l===null||o!==null&&o.is(l)||t.dispatchCommand(yr,void 0);var Fn=t._pendingDecorators;Fn!==null&&(t._decorators=Fn,t._pendingDecorators=null,Nt("decorator",t,!0,Fn));var Sl=ti(i),Qr=ti(e);if(Sl!==Qr&&Nt("textcontent",t,!0,Qr),Nt("update",t,!0,{dirtyElements:$,dirtyLeaves:S,editorState:e,normalizedNodes:M,prevEditorState:i,tags:ee}),t._deferred=[],w.length!==0){let P=t._updating;t._updating=!0;try{for(let q=0;q<w.length;q++)w[q]()}finally{t._updating=P}}var Zr=t._updates;if(Zr.length!==0){let P=Zr.shift();if(P){let[q,X]=P;jo(t,q,X)}}}}function Nt(t,e,n,...r){let i=e._updating;e._updating=n;try{let o=Array.from(e._listeners[t]);for(t=0;t<o.length;t++)o[t].apply(null,r)}finally{e._updating=i}}function C(t,e,n){if(t._updating===!1||K!==t){let o=!1;return t.update(()=>{o=C(t,e,n)}),o}let r=$r(t);for(let o=4;0<=o;o--)for(let l=0;l<r.length;l++){var i=r[l]._commands.get(e);if(i!==void 0&&(i=i[o],i!==void 0)){i=Array.from(i);let s=i.length;for(let u=0;u<s;u++)if(i[u](n,t)===!0)return!0}}return!1}function Ci(t,e){let n=t._updates;for(e=e||!1;n.length!==0;){var r=n.shift();if(r){let[i,o]=r,l;o!==void 0&&(r=o.onUpdate,l=o.tag,o.skipTransforms&&(e=!0),r&&t._deferred.push(r),l&&t._updateTags.add(l)),i()}}return e}function jo(t,e,n){let r=t._updateTags;var i,o=i=!1;if(n!==void 0){var l=n.onUpdate;i=n.tag,i!=null&&r.add(i),i=n.skipTransforms||!1,o=n.discrete||!1}l&&t._deferred.push(l),n=t._editorState,l=t._pendingEditorState;let s=!1;(l===null||l._readOnly)&&(l=t._pendingEditorState=new On(new Map((l||n)._nodeMap)),s=!0),l._flushSync=o,o=W;let u=ie,a=K,c=t._updating;W=l,ie=!1,t._updating=!0,K=t;try{s&&(t._headless?n._selection!=null&&(l._selection=n._selection.clone()):l._selection=os(t));let d=t._compositionKey;e(),i=Ci(t,i),ls(l,t),t._dirtyType!==0&&(i?ss(l,t):us(l,t),Ci(t),ql(n,l,t._dirtyLeaves,t._dirtyElements)),d!==t._compositionKey&&(l._flushSync=!0);let h=l._selection;if(O(h)){let f=l._nodeMap,_=h.focus.key;f.get(h.anchor.key)!==void 0&&f.get(_)!==void 0||v(19)}else zt(h)&&h._nodes.size===0&&(l._selection=null)}catch(d){d instanceof Error&&t._onError(d),t._pendingEditorState=n,t._dirtyType=2,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),je(t);return}finally{W=o,ie=u,K=a,t._updating=c,kt=0}t._dirtyType!==0||as(l,t)?l._flushSync?(l._flushSync=!1,je(t)):s&&Yl(()=>{je(t)}):(l._flushSync=!1,s&&(r.clear(),t._deferred=[],t._pendingEditorState=null))}function oe(t,e,n){t._updating?t._updates.push([e,n]):jo(t,e,n)}class Wo extends Bt{constructor(e){super(e)}decorate(){v(47)}isIsolated(){return!1}isInline(){return!0}isKeyboardSelectable(){return!0}}function A(t){return t instanceof Wo}class Ge extends Bt{constructor(e){super(e),this.__last=this.__first=null,this.__indent=this.__format=this.__size=0,this.__dir=null}getFormat(){return this.getLatest().__format}getFormatType(){let e=this.getFormat();return Bl[e]||""}getIndent(){return this.getLatest().__indent}getChildren(){let e=[],n=this.getFirstChild();for(;n!==null;)e.push(n),n=n.getNextSibling();return e}getChildrenKeys(){let e=[],n=this.getFirstChild();for(;n!==null;)e.push(n.__key),n=n.getNextSibling();return e}getChildrenSize(){return this.getLatest().__size}isEmpty(){return this.getChildrenSize()===0}isDirty(){let e=I()._dirtyElements;return e!==null&&e.has(this.__key)}isLastChild(){let e=this.getLatest(),n=this.getParentOrThrow().getLastChild();return n!==null&&n.is(e)}getAllTextNodes(){let e=[],n=this.getFirstChild();for(;n!==null;){if(N(n)&&e.push(n),x(n)){let r=n.getAllTextNodes();e.push(...r)}n=n.getNextSibling()}return e}getFirstDescendant(){let e=this.getFirstChild();for(;e!==null;){if(x(e)){let n=e.getFirstChild();if(n!==null){e=n;continue}}break}return e}getLastDescendant(){let e=this.getLastChild();for(;e!==null;){if(x(e)){let n=e.getLastChild();if(n!==null){e=n;continue}}break}return e}getDescendantByIndex(e){let n=this.getChildren(),r=n.length;return e>=r?(e=n[r-1],x(e)&&e.getLastDescendant()||e||null):(e=n[e],x(e)&&e.getFirstDescendant()||e||null)}getFirstChild(){let e=this.getLatest().__first;return e===null?null:j(e)}getFirstChildOrThrow(){let e=this.getFirstChild();return e===null&&v(45),e}getLastChild(){let e=this.getLatest().__last;return e===null?null:j(e)}getLastChildOrThrow(){let e=this.getLastChild();return e===null&&v(96),e}getChildAtIndex(e){var n=this.getChildrenSize();let r;if(e<n/2){for(r=this.getFirstChild(),n=0;r!==null&&n<=e;){if(n===e)return r;r=r.getNextSibling(),n++}return null}for(r=this.getLastChild(),--n;r!==null&&n>=e;){if(n===e)return r;r=r.getPreviousSibling(),n--}return null}getTextContent(){let e="",n=this.getChildren(),r=n.length;for(let i=0;i<r;i++){let o=n[i];e+=o.getTextContent(),x(o)&&i!==r-1&&!o.isInline()&&(e+=`

`)}return e}getTextContentSize(){let e=0,n=this.getChildren(),r=n.length;for(let i=0;i<r;i++){let o=n[i];e+=o.getTextContentSize(),x(o)&&i!==r-1&&!o.isInline()&&(e+=2)}return e}getDirection(){return this.getLatest().__dir}hasFormat(e){return e!==""?(e=ei[e],(this.getFormat()&e)!==0):!1}select(e,n){b();let r=k(),i=e,o=n;var l=this.getChildrenSize();if(!this.canBeEmpty()){if(e===0&&n===0){if(e=this.getFirstChild(),N(e)||x(e))return e.select(0,0)}else if(!(e!==void 0&&e!==l||n!==void 0&&n!==l)&&(e=this.getLastChild(),N(e)||x(e)))return e.select()}if(i===void 0&&(i=l),o===void 0&&(o=l),l=this.__key,O(r))r.anchor.set(l,i,"element"),r.focus.set(l,o,"element"),r.dirty=!0;else return Fo(l,i,l,o,"element","element");return r}selectStart(){let e=this.getFirstDescendant();return x(e)||N(e)?e.select(0,0):e!==null?e.selectPrevious():this.select(0,0)}selectEnd(){let e=this.getLastDescendant();return x(e)||N(e)?e.select():e!==null?e.selectNext():this.select()}clear(){let e=this.getWritable();return this.getChildren().forEach(n=>n.remove()),e}append(...e){return this.splice(this.getChildrenSize(),0,e)}setDirection(e){let n=this.getWritable();return n.__dir=e,n}setFormat(e){return this.getWritable().__format=e!==""?ei[e]:0,this}setIndent(e){return this.getWritable().__indent=e,this}splice(e,n,r){let i=r.length,o=this.getChildrenSize(),l=this.getWritable(),s=l.__key;var u=[],a=[];let c=this.getChildAtIndex(e+n),d=null,h=o-n+i;if(e!==0)if(e===o)d=this.getLastChild();else{var f=this.getChildAtIndex(e);f!==null&&(d=f.getPreviousSibling())}if(0<n){var _=d===null?this.getFirstChild():d.getNextSibling();for(f=0;f<n;f++){_===null&&v(100);var y=_.getNextSibling(),T=_.__key;_=_.getWritable(),ze(_),a.push(T),_=y}}for(f=d,y=0;y<i;y++){T=r[y],f!==null&&T.is(f)&&(d=f=f.getPreviousSibling()),_=T.getWritable(),_.__parent===s&&h--,ze(_);let S=T.__key;f===null?(l.__first=S,_.__prev=null):(f=f.getWritable(),f.__next=S,_.__prev=f.__key),T.__key===s&&v(76),_.__parent=s,u.push(S),f=T}if(e+n===o?f!==null&&(f.getWritable().__next=null,l.__last=f.__key):c!==null&&(e=c.getWritable(),f!==null?(n=f.getWritable(),e.__prev=f.__key,n.__next=c.__key):e.__prev=null),l.__size=h,a.length&&(e=k(),O(e))){a=new Set(a),u=new Set(u);let{anchor:S,focus:$}=e;Ni(S,a,u)&&_n(S,S.getNode(),this,d,c),Ni($,a,u)&&_n($,$.getNode(),this,d,c),h!==0||this.canBeEmpty()||ue(this)||this.remove()}return l}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"element",version:1}}insertNewAfter(){return null}canInsertTab(){return!1}canIndent(){return!0}collapseAtStart(){return!1}excludeFromCopy(){return!1}canExtractContents(){return!0}canReplaceWith(){return!0}canInsertAfter(){return!0}canBeEmpty(){return!0}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}isInline(){return!1}isShadowRoot(){return!1}canMergeWith(){return!1}extractWithChild(){return!1}}function x(t){return t instanceof Ge}function Ni(t,e,n){for(t=t.getNode();t;){let r=t.__key;if(e.has(r)&&!n.has(r))return!0;t=t.getParent()}return!1}class lt extends Ge{static getType(){return"root"}static clone(){return new lt}constructor(){super("root"),this.__cachedText=null}getTopLevelElementOrThrow(){v(51)}getTextContent(){let e=this.__cachedText;return!ot()&&I()._dirtyType!==0||e===null?super.getTextContent():e}remove(){v(52)}replace(){v(53)}insertBefore(){v(54)}insertAfter(){v(55)}updateDOM(){return!1}append(...e){for(let n=0;n<e.length;n++){let r=e[n];x(r)||A(r)||v(56)}return super.append(...e)}static importJSON(e){let n=Te();return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{children:[],direction:this.getDirection(),format:this.getFormatType(),indent:this.getIndent(),type:"root",version:1}}collapseAtStart(){return!0}}function re(t){return t instanceof lt}function as(t,e){if(e=e.getEditorState()._selection,t=t._selection,t!==null){if(t.dirty||!t.is(e))return!0}else if(e!==null)return!0;return!1}function Lr(){return new On(new Map([["root",new lt]]))}function Ko(t){let e=t.exportJSON();e.type!==t.constructor.getType()&&v(58);let n=e.children;if(x(t)){Array.isArray(n)||v(59),t=t.getChildren();for(let r=0;r<t.length;r++){let i=Ko(t[r]);n.push(i)}}return e}class On{constructor(e,n){this._nodeMap=e,this._selection=n||null,this._readOnly=this._flushSync=!1}isEmpty(){return this._nodeMap.size===1&&this._selection===null}read(e){return vi(this,e)}clone(e){return e=new On(this._nodeMap,e===void 0?this._selection:e),e._readOnly=!0,e}toJSON(){return vi(this,()=>({root:Ko(Te())}))}}class st extends Bt{static getType(){return"linebreak"}static clone(e){return new st(e.__key)}constructor(e){super(e)}getTextContent(){return`
`}createDOM(){return document.createElement("br")}updateDOM(){return!1}static importDOM(){return{br:e=>{let n=e.parentElement;return n!=null&&n.firstChild===e&&n.lastChild===e?null:{conversion:ds,priority:0}}}}static importJSON(){return it()}exportJSON(){return{type:"linebreak",version:1}}}function ds(){return{node:it()}}function it(){return Tn(new st)}function Pt(t){return t instanceof st}function Yn(t,e){return e&16?"code":e&128?"mark":e&32?"sub":e&64?"sup":null}function Gn(t,e){return e&1?"strong":e&2?"em":"span"}function Un(t,e,n,r,i){t=r.classList,r=xt(i,"base"),r!==void 0&&t.add(...r),r=xt(i,"underlineStrikethrough");let o=!1,l=e&8&&e&4;var s=n&8&&n&4;r!==void 0&&(s?(o=!0,l||t.add(...r)):l&&t.remove(...r));for(let u in Be)s=Be[u],r=xt(i,u),r!==void 0&&(n&s?!o||u!=="underline"&&u!=="strikethrough"?(!(e&s)||l&&u==="underline"||u==="strikethrough")&&t.add(...r):e&s&&t.remove(...r):e&s&&t.remove(...r))}function Jn(t,e,n){let r=e.firstChild;if(n=n.isComposing(),t+=n?vn:"",r==null)e.textContent=t;else if(e=r.nodeValue,e!==t)if(n||We){n=e.length;let i=t.length,o=0,l=0;for(;o<n&&o<i&&e[o]===t[o];)o++;for(;l+o<n&&l+o<i&&e[n-l-1]===t[i-l-1];)l++;t=[o,n-o-l,t.slice(o,i-l)];let[s,u,a]=t;u!==0&&r.deleteData(s,u),r.insertData(s,a)}else r.nodeValue=t}function Vt(t,e){return e=document.createElement(e),e.appendChild(t),e}class ut extends Bt{static getType(){return"text"}static clone(e){return new ut(e.__text,e.__key)}constructor(e,n){super(n),this.__text=e,this.__format=0,this.__style="",this.__detail=this.__mode=0}getFormat(){return this.getLatest().__format}getDetail(){return this.getLatest().__detail}getMode(){let e=this.getLatest();return jl[e.__mode]}getStyle(){return this.getLatest().__style}isToken(){return this.getLatest().__mode===1}isComposing(){return this.__key===Me()}isSegmented(){return this.getLatest().__mode===2}isDirectionless(){return(this.getLatest().__detail&1)!==0}isUnmergeable(){return(this.getLatest().__detail&2)!==0}hasFormat(e){return e=Be[e],(this.getFormat()&e)!==0}isSimpleText(){return this.__type==="text"&&this.__mode===0}getTextContent(){return this.getLatest().__text}getFormatFlags(e,n){let r=this.getLatest().__format;return so(r,e,n)}createDOM(e){var n=this.__format,r=Yn(this,n);let i=Gn(this,n),o=document.createElement(r===null?i:r),l=o;return r!==null&&(l=document.createElement(i),o.appendChild(l)),r=l,Jn(this.__text,r,this),e=e.theme.text,e!==void 0&&Un(i,0,n,r,e),n=this.__style,n!==""&&(o.style.cssText=n),o}updateDOM(e,n,r){let i=this.__text;var o=e.__format,l=this.__format,s=Yn(this,o);let u=Yn(this,l);var a=Gn(this,o);let c=Gn(this,l);return(s===null?a:s)!==(u===null?c:u)?!0:s===u&&a!==c?(o=n.firstChild,o==null&&v(48),e=s=document.createElement(c),Jn(i,e,this),r=r.theme.text,r!==void 0&&Un(c,0,l,e,r),n.replaceChild(s,o),!1):(a=n,u!==null&&s!==null&&(a=n.firstChild,a==null&&v(49)),Jn(i,a,this),r=r.theme.text,r!==void 0&&o!==l&&Un(c,o,l,a,r),l=this.__style,e.__style!==l&&(n.style.cssText=l),!1)}static importDOM(){return{"#text":()=>({conversion:gs,priority:0}),b:()=>({conversion:hs,priority:0}),br:()=>({conversion:fs,priority:0}),code:()=>({conversion:Oe,priority:0}),em:()=>({conversion:Oe,priority:0}),i:()=>({conversion:Oe,priority:0}),s:()=>({conversion:Oe,priority:0}),span:()=>({conversion:cs,priority:0}),strong:()=>({conversion:Oe,priority:0}),sub:()=>({conversion:Oe,priority:0}),sup:()=>({conversion:Oe,priority:0}),u:()=>({conversion:Oe,priority:0})}}static importJSON(e){let n=Y(e.text);return n.setFormat(e.format),n.setDetail(e.detail),n.setMode(e.mode),n.setStyle(e.style),n}exportDOM(e){return{element:e}=super.exportDOM(e),e!==null&&(this.hasFormat("bold")&&(e=Vt(e,"b")),this.hasFormat("italic")&&(e=Vt(e,"i")),this.hasFormat("strikethrough")&&(e=Vt(e,"s")),this.hasFormat("underline")&&(e=Vt(e,"u"))),{element:e}}exportJSON(){return{detail:this.getDetail(),format:this.getFormat(),mode:this.getMode(),style:this.getStyle(),text:this.getTextContent(),type:"text",version:1}}selectionTransform(){}setFormat(e){let n=this.getWritable();return n.__format=typeof e=="string"?Be[e]:e,n}setDetail(e){let n=this.getWritable();return n.__detail=typeof e=="string"?Fl[e]:e,n}setStyle(e){let n=this.getWritable();return n.__style=e,n}toggleFormat(e){return e=Be[e],this.setFormat(this.getFormat()^e)}toggleDirectionless(){let e=this.getWritable();return e.__detail^=1,e}toggleUnmergeable(){let e=this.getWritable();return e.__detail^=2,e}setMode(e){if(e=zl[e],this.__mode===e)return this;let n=this.getWritable();return n.__mode=e,n}setTextContent(e){if(this.__text===e)return this;let n=this.getWritable();return n.__text=e,n}select(e,n){b();let r=k();var i=this.getTextContent();let o=this.__key;if(typeof i=="string"?(i=i.length,e===void 0&&(e=i),n===void 0&&(n=i)):n=e=0,O(r))i=Me(),i!==r.anchor.key&&i!==r.focus.key||G(o),r.setTextNodeRange(this,e,this,n);else return Fo(o,e,o,n,"text","text");return r}spliceText(e,n,r,i){let o=this.getWritable(),l=o.__text,s=r.length,u=e;0>u&&(u=s+u,0>u&&(u=0));let a=k();return i&&O(a)&&(e+=s,a.setTextNodeRange(o,e,o,e)),n=l.slice(0,u)+r+l.slice(u+n),o.__text=n,o}canInsertTextBefore(){return!0}canInsertTextAfter(){return!0}canContainTabs(){return!1}splitText(...e){b();var n=this.getLatest(),r=n.getTextContent(),i=n.__key,o=Me(),l=new Set(e);e=[];for(var s=r.length,u="",a=0;a<s;a++)u!==""&&l.has(a)&&(e.push(u),u=""),u+=r[a];if(u!==""&&e.push(u),l=e.length,l===0)return[];if(e[0]===r)return[n];var c=e[0];r=n.getParentOrThrow(),a=n.getFormat();let d=n.getStyle(),h=n.__detail;s=!1,n.isSegmented()?(u=Y(c),u.__format=a,u.__style=d,u.__detail=h,s=!0):(u=n.getWritable(),u.__text=c),n=k(),u=[u],c=c.length;for(let y=1;y<l;y++){var f=e[y],_=f.length;f=Y(f).getWritable(),f.__format=a,f.__style=d,f.__detail=h;let T=f.__key;if(_=c+_,O(n)){let S=n.anchor,$=n.focus;S.key===i&&S.type==="text"&&S.offset>c&&S.offset<=_&&(S.key=T,S.offset-=c,n.dirty=!0),$.key===i&&$.type==="text"&&$.offset>c&&$.offset<=_&&($.key=T,$.offset-=c,n.dirty=!0)}o===i&&G(T),c=_,u.push(f)}return i=this.getPreviousSibling(),o=this.getNextSibling(),i!==null&&un(i),o!==null&&un(o),i=r.getWritable(),o=this.getIndexWithinParent(),s?(i.splice(o,0,u),this.remove()):i.splice(o,1,u),O(n)&&gn(n,r,o,l-1),u}mergeWithSibling(e){var n=e===this.getPreviousSibling();n||e===this.getNextSibling()||v(50);var r=this.__key;let i=e.__key,o=this.__text,l=o.length;Me()===i&&G(r);let s=k();if(O(s)){let u=s.anchor,a=s.focus;u!==null&&u.key===i&&(mi(u,n,r,e,l),s.dirty=!0),a!==null&&a.key===i&&(mi(a,n,r,e,l),s.dirty=!0)}return r=e.__text,this.setTextContent(n?r+o:o+r),n=this.getWritable(),e.remove(),n}isTextEntity(){return!1}}function cs(t){let e=t.style.fontWeight==="700",n=t.style.textDecoration==="line-through",r=t.style.fontStyle==="italic",i=t.style.textDecoration==="underline",o=t.style.verticalAlign;return{forChild:l=>(N(l)&&(e&&l.toggleFormat("bold"),n&&l.toggleFormat("strikethrough"),r&&l.toggleFormat("italic"),i&&l.toggleFormat("underline"),o==="sub"&&l.toggleFormat("subscript"),o==="super"&&l.toggleFormat("superscript")),l),node:null}}function fs(){return{node:it()}}function hs(t){let e=t.style.fontWeight==="normal";return{forChild:n=>(N(n)&&!e&&n.toggleFormat("bold"),n),node:null}}function gs(t,e,n){return t=t.textContent||"",!n&&/\n/.test(t)&&(t=t.replace(/\r?\n/gm," "),t.trim().length===0)?{node:null}:{node:Y(t)}}let _s={code:"code",em:"italic",i:"italic",s:"strikethrough",strong:"bold",sub:"subscript",sup:"superscript",u:"underline"};function Oe(t){let e=_s[t.nodeName.toLowerCase()];return e===void 0?{node:null}:{forChild:n=>(N(n)&&!n.hasFormat(e)&&n.toggleFormat(e),n),node:null}}function Y(t=""){return Tn(new ut(t))}function N(t){return t instanceof ut}class at extends Ge{static getType(){return"paragraph"}static clone(e){return new at(e.__key)}createDOM(e){let n=document.createElement("p");return e=xt(e.theme,"paragraph"),e!==void 0&&n.classList.add(...e),n}updateDOM(){return!1}static importDOM(){return{p:()=>({conversion:ps,priority:0})}}exportDOM(e){if({element:e}=super.exportDOM(e),e&&this.isEmpty()&&e.append(document.createElement("br")),e){var n=this.getFormatType();e.style.textAlign=n,(n=this.getDirection())&&(e.dir=n),n=this.getIndent(),0<n&&(e.style.textIndent=`${20*n}px`)}return{element:e}}static importJSON(e){let n=He();return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),type:"paragraph",version:1}}insertNewAfter(e,n){e=He();let r=this.getDirection();return e.setDirection(r),this.insertAfter(e,n),e}collapseAtStart(){let e=this.getChildren();if(e.length===0||N(e[0])&&e[0].getTextContent().trim()===""){if(this.getNextSibling()!==null)return this.selectNext(),this.remove(),!0;if(this.getPreviousSibling()!==null)return this.selectPrevious(),this.remove(),!0}return!1}}function ps(t){let e=He();return t.style&&(e.setFormat(t.style.textAlign),t=parseInt(t.style.textIndent,10)/20,0<t&&e.setIndent(t)),{node:e}}function He(){return Tn(new at)}function Ho(t,e,n,r){let i=t._keyToDOMMap;i.clear(),t._editorState=Lr(),t._pendingEditorState=r,t._compositionKey=null,t._dirtyType=0,t._cloneNotNeeded.clear(),t._dirtyLeaves=new Set,t._dirtyElements.clear(),t._normalizedNodes=new Set,t._updateTags=new Set,t._updates=[],t._blockCursorElement=null,r=t._observer,r!==null&&(r.disconnect(),t._observer=null),e!==null&&(e.textContent=""),n!==null&&(n.textContent="",i.set("root",n))}function ms(t){let e=new Map,n=new Set;return t.forEach(r=>{if(r=r.klass.importDOM!=null?r.klass.importDOM.bind(r.klass):null,r!=null&&!n.has(r)){n.add(r);var i=r();i!==null&&Object.keys(i).forEach(o=>{let l=e.get(o);l===void 0&&(l=[],e.set(o,l)),l.push(i[o])})}}),e}class ys{constructor(e,n,r,i,o,l){this._parentEditor=n,this._rootElement=null,this._editorState=e,this._compositionKey=this._pendingEditorState=null,this._deferred=[],this._keyToDOMMap=new Map,this._updates=[],this._updating=!1,this._listeners={decorator:new Set,editable:new Set,mutation:new Map,root:new Set,textcontent:new Set,update:new Set},this._commands=new Map,this._config=i,this._nodes=r,this._decorators={},this._pendingDecorators=null,this._dirtyType=0,this._cloneNotNeeded=new Set,this._dirtyLeaves=new Set,this._dirtyElements=new Map,this._normalizedNodes=new Set,this._updateTags=new Set,this._observer=null,this._key=go(),this._onError=o,this._htmlConversions=l,this._editable=!0,this._headless=n!==null&&n._headless,this._blockCursorElement=this._window=null}isComposing(){return this._compositionKey!=null}registerUpdateListener(e){let n=this._listeners.update;return n.add(e),()=>{n.delete(e)}}registerEditableListener(e){let n=this._listeners.editable;return n.add(e),()=>{n.delete(e)}}registerDecoratorListener(e){let n=this._listeners.decorator;return n.add(e),()=>{n.delete(e)}}registerTextContentListener(e){let n=this._listeners.textcontent;return n.add(e),()=>{n.delete(e)}}registerRootListener(e){let n=this._listeners.root;return e(this._rootElement,null),n.add(e),()=>{e(null,this._rootElement),n.delete(e)}}registerCommand(e,n,r){r===void 0&&v(35);let i=this._commands;i.has(e)||i.set(e,[new Set,new Set,new Set,new Set,new Set]);let o=i.get(e);o===void 0&&v(36);let l=o[r];return l.add(n),()=>{l.delete(n),o.every(s=>s.size===0)&&i.delete(e)}}registerMutationListener(e,n){this._nodes.get(e.getType())===void 0&&v(37);let r=this._listeners.mutation;return r.set(n,e),()=>{r.delete(n)}}registerNodeTransformToKlass(e,n){return e=e.getType(),e=this._nodes.get(e),e===void 0&&v(37),e.transforms.add(n),e}registerNodeTransform(e,n){var r=this.registerNodeTransformToKlass(e,n);let i=[r];return r=r.replaceWithKlass,r!=null&&(r=this.registerNodeTransformToKlass(r,n),i.push(r)),Gl(this,e.getType()),()=>{i.forEach(o=>o.transforms.delete(n))}}hasNodes(e){for(let n=0;n<e.length;n++){let r=e[n].getType();if(!this._nodes.has(r))return!1}return!0}dispatchCommand(e,n){return C(this,e,n)}getDecorators(){return this._decorators}getRootElement(){return this._rootElement}getKey(){return this._key}setRootElement(e){let n=this._rootElement;if(e!==n){let o=xt(this._config.theme,"root");var r=this._pendingEditorState||this._editorState;if(this._rootElement=e,Ho(this,n,e,r),n!==null){if(!this._config.disableEvents){if(vt!==0&&(vt--,vt===0&&n.ownerDocument.removeEventListener("selectionchange",Po)),r=n.__lexicalEditor,r!=null){if(r._parentEditor!==null){var i=$r(r);i=i[i.length-1]._key,nt.get(i)===r&&nt.delete(i)}else nt.delete(r._key);n.__lexicalEditor=null}for(r=ko(n),i=0;i<r.length;i++)r[i]();n.__lexicalEventHandles=[]}o!=null&&n.classList.remove(...o)}e!==null?(r=(r=e.ownerDocument)&&r.defaultView||null,i=e.style,i.userSelect="text",i.whiteSpace="pre-wrap",i.wordBreak="break-word",e.setAttribute("data-lexical-editor","true"),this._window=r,this._dirtyType=2,oo(this),this._updateTags.add("history-merge"),je(this),this._config.disableEvents||is(e,this),o!=null&&e.classList.add(...o)):this._window=null,Nt("root",this,!1,e,n)}}getElementByKey(e){return this._keyToDOMMap.get(e)||null}getEditorState(){return this._editorState}setEditorState(e,n){e.isEmpty()&&v(38),io(this);let r=this._pendingEditorState,i=this._updateTags;n=n!==void 0?n.tag:null,r===null||r.isEmpty()||(n!=null&&i.add(n),je(this)),this._pendingEditorState=e,this._dirtyType=2,this._dirtyElements.set("root",!1),this._compositionKey=null,n!=null&&i.add(n),je(this)}parseEditorState(e,n){e=typeof e=="string"?JSON.parse(e):e;let r=Lr(),i=W,o=ie,l=K,s=this._dirtyElements,u=this._dirtyLeaves,a=this._cloneNotNeeded,c=this._dirtyType;this._dirtyElements=new Map,this._dirtyLeaves=new Set,this._cloneNotNeeded=new Set,this._dirtyType=0,W=r,ie=!1,K=this;try{Ir(e.root,this._nodes),n&&n(),r._readOnly=!0}catch(d){d instanceof Error&&this._onError(d)}finally{this._dirtyElements=s,this._dirtyLeaves=u,this._cloneNotNeeded=a,this._dirtyType=c,W=i,ie=o,K=l}return r}update(e,n){oe(this,e,n)}focus(e,n={}){let r=this._rootElement;r!==null&&(r.setAttribute("autocapitalize","off"),oe(this,()=>{let i=k(),o=Te();i!==null?i.dirty=!0:o.getChildrenSize()!==0&&(n.defaultSelection==="rootStart"?o.selectStart():o.selectEnd())},{onUpdate:()=>{r.removeAttribute("autocapitalize"),e&&e()},tag:"focus"}),this._pendingEditorState===null&&r.removeAttribute("autocapitalize"))}blur(){var e=this._rootElement;e!==null&&e.blur(),e=pe(this._window),e!==null&&e.removeAllRanges()}isEditable(){return this._editable}setEditable(e){this._editable!==e&&(this._editable=e,Nt("editable",this,!0,e))}toJSON(){return{editorState:this._editorState.toJSON()}}}class Fr extends Ge{constructor(e,n){super(n),this.__colSpan=e,this.__rowSpan=1}exportJSON(){return{...super.exportJSON(),colSpan:this.__colSpan}}setColSpan(e){return this.getWritable().__colSpan=e,this}setRowSpan(e){return this.getWritable().__rowSpan=e,this}}function ge(t){return t instanceof Fr}class Yo extends Ge{}function Br(t){return t instanceof Yo}class Go extends Ge{}function It(t){return t instanceof Go}m.$addUpdateTag=function(t){b(),I()._updateTags.add(t)};m.$applyNodeReplacement=Tn;m.$copyNode=mo;m.$createLineBreakNode=it;m.$createNodeSelection=fr;m.$createParagraphNode=He;m.$createRangeSelection=function(){let t=new _e("root",0,"element"),e=new _e("root",0,"element");return new Ye(t,e,0,"")};m.$createTextNode=Y;m.$getAdjacentNode=bn;m.$getNearestNodeFromDOMNode=Ft;m.$getNearestRootOrShadowRoot=po;m.$getNodeByKey=j;m.$getPreviousSelection=jt;m.$getRoot=Te;m.$getSelection=k;m.$getTextContent=function(){let t=k();return t===null?"":t.getTextContent()};m.$hasAncestor=cn;m.$insertNodes=function(t,e){let n=k();return n===null&&(n=Te().selectEnd()),n.insertNodes(t,e)};m.$isDecoratorNode=A;m.$isElementNode=x;m.$isInlineElementOrDecoratorNode=function(t){return x(t)&&t.isInline()||A(t)&&t.isInline()};m.$isLeafNode=uo;m.$isLineBreakNode=Pt;m.$isNodeSelection=zt;m.$isParagraphNode=function(t){return t instanceof at};m.$isRangeSelection=O;m.$isRootNode=re;m.$isRootOrShadowRoot=ue;m.$isTextNode=N;m.$nodesOfType=function(t){var e=me();let n=e._readOnly,r=t.getType();e=e._nodeMap;let i=[];for(let[,o]of e)o instanceof t&&o.__type===r&&(n||o.isAttached())&&i.push(o);return i};m.$normalizeSelection__EXPERIMENTAL=Co;m.$parseSerializedNode=function(t){return Ir(t,I()._nodes)};m.$setCompositionKey=G;m.$setSelection=Re;m.$splitNode=yo;m.BLUR_COMMAND=to;m.CAN_REDO_COMMAND={};m.CAN_UNDO_COMMAND={};m.CLEAR_EDITOR_COMMAND={};m.CLEAR_HISTORY_COMMAND={};m.CLICK_COMMAND=Fi;m.COMMAND_PRIORITY_CRITICAL=4;m.COMMAND_PRIORITY_EDITOR=0;m.COMMAND_PRIORITY_HIGH=3;m.COMMAND_PRIORITY_LOW=1;m.COMMAND_PRIORITY_NORMAL=2;m.CONTROLLED_TEXT_INSERTION_COMMAND=tt;m.COPY_COMMAND=Nr;m.CUT_COMMAND=Tr;m.DELETE_CHARACTER_COMMAND=Ot;m.DELETE_LINE_COMMAND=$t;m.DELETE_WORD_COMMAND=wt;m.DEPRECATED_$computeGridMap=zo;m.DEPRECATED_$createGridSelection=function(){let t=new _e("root",0,"element"),e=new _e("root",0,"element");return new Dn("root",t,e)};m.DEPRECATED_$getNodeTriplet=function(t){if(!(t instanceof Fr)){if(t instanceof Bt){if(t=fn(t,ge),!ge(t))throw Error("Expected to find a parent GridCellNode")}else if(t=fn(t.getNode(),ge),!ge(t))throw Error("Expected to find a parent GridCellNode")}let e=t.getParent();if(!It(e))throw Error("Expected GridCellNode to have a parent GridRowNode");let n=e.getParent();if(!Br(n))throw Error("Expected GridRowNode to have a parent GridNode");return[t,e,n]};m.DEPRECATED_$isGridCellNode=ge;m.DEPRECATED_$isGridNode=Br;m.DEPRECATED_$isGridRowNode=It;m.DEPRECATED_$isGridSelection=Pr;m.DEPRECATED_GridCellNode=Fr;m.DEPRECATED_GridNode=Yo;m.DEPRECATED_GridRowNode=Go;m.DRAGEND_COMMAND=bi;m.DRAGOVER_COMMAND=Zi;m.DRAGSTART_COMMAND=Qi;m.DROP_COMMAND=Xi;m.DecoratorNode=Wo;m.ElementNode=Ge;m.FOCUS_COMMAND=eo;m.FORMAT_ELEMENT_COMMAND={};m.FORMAT_TEXT_COMMAND=$e;m.INDENT_CONTENT_COMMAND={};m.INSERT_LINE_BREAK_COMMAND=yt;m.INSERT_PARAGRAPH_COMMAND=qn;m.KEY_ARROW_DOWN_COMMAND=Yi;m.KEY_ARROW_LEFT_COMMAND=Wi;m.KEY_ARROW_RIGHT_COMMAND=zi;m.KEY_ARROW_UP_COMMAND=Hi;m.KEY_BACKSPACE_COMMAND=Ui;m.KEY_DELETE_COMMAND=Vi;m.KEY_DOWN_COMMAND=Bi;m.KEY_ENTER_COMMAND=on;m.KEY_ESCAPE_COMMAND=Ji;m.KEY_MODIFIER_COMMAND=no;m.KEY_SPACE_COMMAND=Gi;m.KEY_TAB_COMMAND=qi;m.LineBreakNode=st;m.MOVE_TO_END=ji;m.MOVE_TO_START=Ki;m.OUTDENT_CONTENT_COMMAND={};m.PASTE_COMMAND=xr;m.ParagraphNode=at;m.REDO_COMMAND=Cr;m.REMOVE_TEXT_COMMAND=Xn;m.RootNode=lt;m.SELECTION_CHANGE_COMMAND=yr;m.TextNode=ut;m.UNDO_COMMAND=vr;m.createCommand=function(){return{}};m.createEditor=function(t){var e=t||{},n=K,r=e.theme||{};let i=t===void 0?n:e.parentEditor||null,o=e.disableEvents||!1,l=Lr(),s=e.namespace||(i!==null?i._config.namespace:go()),u=e.editorState,a=[lt,ut,st,at,...e.nodes||[]],c=e.onError;if(e=e.editable!==void 0?e.editable:!0,t===void 0&&n!==null)t=n._nodes;else for(t=new Map,n=0;n<a.length;n++){let h=a[n],f=null;var d=null;typeof h!="function"&&(d=h,h=d.replace,f=d.with,d=d.withKlass?d.withKlass:null);let _=h.getType(),y=h.transform(),T=new Set;y!==null&&T.add(y),t.set(_,{klass:h,replace:f,replaceWithKlass:d,transforms:T})}return r=new ys(l,i,t,{disableEvents:o,namespace:s,theme:r},c||console.error,ms(t),e),u!==void 0&&(r._pendingEditorState=u,r._dirtyType=2),r};m.getNearestEditorFromDOMNode=wr;m.isSelectionWithinEditor=Lt;const xs=m;var ne=xs,Uo={},wn={},Jo=F;let Vo=Jo.createContext(null);wn.LexicalComposerContext=Vo;wn.createLexicalComposerContext=function(t,e){let n=null;return t!=null&&(n=t[1]),{getTheme:function(){return e??(n!=null?n.getTheme():null)}}};wn.useLexicalComposerContext=function(){let t=Jo.useContext(Vo);if(t==null)throw Error("Minified Lexical error #8; visit https://lexical.dev/docs/error?code=8 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return t};const vs=wn;var Ue=vs,Ti=Ue,pt=ne,pn=F;let qo=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";var Cs=qo?pn.useLayoutEffect:pn.useEffect;let qt={tag:"history-merge"};function Ns(t,e){if(e!==null){if(e===void 0)t.update(()=>{var n=pt.$getRoot();if(n.isEmpty()){let r=pt.$createParagraphNode();n.append(r),n=qo?document.activeElement:null,(pt.$getSelection()!==null||n!==null&&n===t.getRootElement())&&r.select()}},qt);else if(e!==null)switch(typeof e){case"string":let n=t.parseEditorState(e);t.setEditorState(n,qt);break;case"object":t.setEditorState(e,qt);break;case"function":t.update(()=>{pt.$getRoot().isEmpty()&&e(t)},qt)}}}Uo.LexicalComposer=function({initialConfig:t,children:e}){let n=pn.useMemo(()=>{const{theme:r,namespace:i,editor__DEPRECATED:o,nodes:l,onError:s,editorState:u}=t,a=Ti.createLexicalComposerContext(null,r);let c=o||null;if(c===null){const d=pt.createEditor({editable:!1,namespace:i,nodes:l,onError:h=>s(h,d),theme:r});Ns(d,u),c=d}return[c,a]},[]);return Cs(()=>{let r=t.editable,[i]=n;i.setEditable(r!==void 0?r:!0)},[]),pn.createElement(Ti.LexicalComposerContext.Provider,{value:n},e)};const Ts=Uo;var Es=Ts,Xo={},Ss=Ue,Tt=F,Ds=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?Tt.useLayoutEffect:Tt.useEffect;function Os(t){let[e]=Ss.useLexicalComposerContext(),n=Tt.useMemo(()=>t(e),[e,t]),r=Tt.useRef(n.initialValueFn()),[i,o]=Tt.useState(r.current);return Ds(()=>{let{initialValueFn:l,subscribe:s}=n,u=l();return r.current!==u&&(r.current=u,o(u)),s(a=>{r.current=a,o(a)})},[n,t]),i}function ws(t){return{initialValueFn:()=>t.isEditable(),subscribe:e=>t.registerEditableListener(e)}}var $s=function(){return Os(ws)};const Ms=$s;var Rs=Ms,Pe={},Q=ne;function zr(t,e=!0){return t?!1:(t=Qo(),e&&(t=t.trim()),t==="")}function Qo(){return Q.$getRoot().getTextContent()}function Zo(t){if(!zr(t,!1))return!1;t=Q.$getRoot().getChildren();let e=t.length;if(1<e)return!1;for(let r=0;r<e;r++){var n=t[r];if(Q.$isDecoratorNode(n))return!1;if(Q.$isElementNode(n)){if(!Q.$isParagraphNode(n)||n.__indent!==0)return!1;n=n.getChildren();let i=n.length;for(let o=0;o<i;o++)if(!Q.$isTextNode(n[r]))return!1}}return!0}Pe.$canShowPlaceholder=Zo;Pe.$canShowPlaceholderCurry=function(t){return()=>Zo(t)};Pe.$findTextIntersectionFromCharacters=function(t,e){var n=t.getFirstChild();t=0;e:for(;n!==null;){if(Q.$isElementNode(n)){var r=n.getFirstChild();if(r!==null){n=r;continue}}else if(Q.$isTextNode(n)){if(r=n.getTextContentSize(),t+r>e)return{node:n,offset:e-t};t+=r}if(r=n.getNextSibling(),r!==null)n=r;else{for(n=n.getParent();n!==null;){if(r=n.getNextSibling(),r!==null){n=r;continue e}n=n.getParent()}break}}return null};Pe.$isRootTextContentEmpty=zr;Pe.$isRootTextContentEmptyCurry=function(t,e){return()=>zr(t,e)};Pe.$rootTextContent=Qo;Pe.registerLexicalTextEntity=function(t,e,n,r){let i=l=>{const s=Q.$createTextNode(l.getTextContent());s.setFormat(l.getFormat()),l.replace(s)},o=t.registerNodeTransform(Q.TextNode,l=>{if(l.isSimpleText()){var s=l.getPreviousSibling(),u=l.getTextContent(),a=l;if(Q.$isTextNode(s)){var c=s.getTextContent(),d=e(c+u);if(s instanceof n){if(d===null||s.getLatest().__mode!==0){i(s);return}if(d=d.end-c.length,0<d){a=u.slice(0,d),a=c+a,s.select(),s.setTextContent(a),d===u.length?l.remove():(s=u.slice(d),l.setTextContent(s));return}}else if(d===null||d.start<c.length)return}for(;;){if(l=e(u),u=d=l===null?"":u.slice(l.end),d===""){if(c=a.getNextSibling(),Q.$isTextNode(c)){if(d=a.getTextContent()+c.getTextContent(),d=e(d),d===null){c instanceof n?i(c):c.markDirty();break}else if(d.start!==0)break}}else if(c=e(d),c!==null&&c.start===0)break;if(l===null)break;if(l.start===0&&Q.$isTextNode(s)&&s.isTextEntity())continue;let h;if(l.start===0?[h,a]=a.splitText(l.end):[,h,a]=a.splitText(l.start,l.end),l=r(h),h.replace(l),a==null)break}}});return t=t.registerNodeTransform(n,l=>{var s=l.getTextContent();const u=e(s);u===null||u.start!==0?i(l):s.length>u.end?l.splitText(u.end):(s=l.getPreviousSibling(),Q.$isTextNode(s)&&s.isTextEntity()&&(i(s),i(l)),s=l.getNextSibling(),Q.$isTextNode(s)&&s.isTextEntity()&&(i(s),l instanceof n&&i(l)))}),[o,t]};const As=Pe;var ks=As,U={},H={},E=ne;let mn=new Map;function Ei(t){for(;t!=null;){if(t.nodeType===Node.TEXT_NODE)return t;t=t.firstChild}return null}function Si(t){let e=t.parentNode;if(e==null)throw Error("Should never happen");return[e,Array.from(e.childNodes).indexOf(t)]}function bo(t){let e={};t=t.split(";");for(let n of t)if(n!==""){let[r,i]=n.split(/:([^]+)/);e[r.trim()]=i.trim()}return e}function yn(t){let e=mn.get(t);return e===void 0&&(e=bo(t),mn.set(t,e)),e}function Ps(t){let e="";for(let n in t)n&&(e+=`${n}: ${t[n]};`);return e}function Ve(t,e){var n=yn("getStyle"in t?t.getStyle():t.style);e=Object.entries(e).reduce((r,[i,o])=>(o===null?delete r[i]:r[i]=o,r),{...n}),n=Ps(e),t.setStyle(n),mn.set(n,e)}function Is(t){for(;t!==null&&!E.$isRootOrShadowRoot(t);){let e=t.getLatest(),n=t.getParent();e.getChildrenSize()===0&&t.remove(!0),t=n}}function Vn(t,e,n,r,i=null){if(e.length!==0){var o=e[0],l=new Map,s=[];o=E.$isElementNode(o)?o:o.getParentOrThrow(),o.isInline()&&(o=o.getParentOrThrow());for(var u=!1;o!==null;){var a=o.getPreviousSibling();if(a!==null){o=a,u=!0;break}if(o=o.getParentOrThrow(),E.$isRootOrShadowRoot(o))break}a=new Set;for(var c=0;c<n;c++){var d=e[c];E.$isElementNode(d)&&d.getChildrenSize()===0&&a.add(d.getKey())}var h=new Set;for(c=0;c<n;c++){d=e[c];var f=d.getParent();if(f!==null&&f.isInline()&&(f=f.getParent()),f!==null&&E.$isLeafNode(d)&&!h.has(d.getKey())){if(d=f.getKey(),l.get(d)===void 0){let _=r();_.setFormat(f.getFormatType()),_.setIndent(f.getIndent()),s.push(_),l.set(d,_),f.getChildren().forEach(y=>{_.append(y),h.add(y.getKey()),E.$isElementNode(y)&&y.getChildrenKeys().forEach(T=>h.add(T))}),Is(f)}}else a.has(d.getKey())&&(f=r(),f.setFormat(d.getFormatType()),f.setIndent(d.getIndent()),s.push(f),d.remove(!0))}if(i!==null)for(e=0;e<s.length;e++)i.append(s[e]);if(e=null,E.$isRootOrShadowRoot(o))if(u)if(i!==null)o.insertAfter(i);else for(i=s.length-1;0<=i;i--)o.insertAfter(s[i]);else if(u=o.getFirstChild(),E.$isElementNode(u)&&(o=u),u===null)if(i)o.append(i);else for(i=0;i<s.length;i++)u=s[i],o.append(u),e=u;else if(i!==null)u.insertBefore(i);else for(o=0;o<s.length;o++)i=s[o],u.insertBefore(i),e=i;else if(i)o.insertAfter(i);else for(i=s.length-1;0<=i;i--)u=s[i],o.insertAfter(u),e=u;s=E.$getPreviousSelection(),E.$isRangeSelection(s)&&s.anchor.getNode().isAttached()&&s.focus.getNode().isAttached()?E.$setSelection(s.clone()):e!==null?e.selectEnd():t.dirty=!0}}function el(t,e,n,r){t.modify(e?"extend":"move",n,r)}function tl(t){return t=t.anchor.getNode(),(E.$isRootNode(t)?t:t.getParentOrThrow()).getDirection()==="rtl"}H.$addNodeStyle=function(t){t=t.getStyle();let e=bo(t);mn.set(t,e)};H.$cloneWithProperties=function(t){t=t.getLatest();let e=t.constructor.clone(t);return e.__parent=t.__parent,e.__next=t.__next,e.__prev=t.__prev,E.$isElementNode(t)&&E.$isElementNode(e)?(e.__first=t.__first,e.__last=t.__last,e.__size=t.__size,e.__format=t.__format,e.__indent=t.__indent,e.__dir=t.__dir,e):(E.$isTextNode(t)&&E.$isTextNode(e)&&(e.__format=t.__format,e.__style=t.__style,e.__mode=t.__mode,e.__detail=t.__detail),e)};H.$getSelectionStyleValueForProperty=function(t,e,n=""){let r=null,i=t.getNodes();var o=t.anchor,l=t.focus,s=t.isBackward();let u=s?l.offset:o.offset;if(o=s?l.getNode():o.getNode(),t.style!==""&&(t=yn(t.style),t!==null&&e in t))return t[e];for(t=0;t<i.length;t++){var a=i[t];if((t===0||u!==0||!a.is(o))&&E.$isTextNode(a)){if(l=e,s=n,a=a.getStyle(),a=yn(a),l=a!==null&&a[l]||s,r===null)r=l;else if(r!==l){r="";break}}}return r===null?n:r};H.$isAtNodeEnd=function(t){return t.type==="text"?t.offset===t.getNode().getTextContentSize():t.offset===t.getNode().getChildrenSize()};H.$isParentElementRTL=tl;H.$moveCaretSelection=el;H.$moveCharacter=function(t,e,n){let r=tl(t);el(t,e,n?!r:r,"character")};H.$patchStyleText=function(t,e){var n=t.getNodes();let r=n.length-1,i=n[0],o=n[r];if(t.isCollapsed())Ve(t,e);else{var l=t.anchor,s=t.focus,u=i.getTextContent().length,a=s.offset,c=l.offset,d=l.isBefore(s),h=d?c:a;t=d?a:c;var f=d?l.type:s.type,_=d?s.type:l.type;if(l=d?s.key:l.key,E.$isTextNode(i)&&h===u&&(s=i.getNextSibling(),E.$isTextNode(s)&&(h=c=0,i=s)),n.length===1)E.$isTextNode(i)&&(h=f==="element"?0:c>a?a:c,t=_==="element"?u:c>a?c:a,h!==t&&(h===0&&t===u?(Ve(i,e),i.select(h,t)):(n=i.splitText(h,t),n=h===0?n[0]:n[1],Ve(n,e),n.select(0,t-h))));else for(E.$isTextNode(i)&&h<i.getTextContentSize()&&(h!==0&&(i=i.splitText(h)[1]),Ve(i,e)),E.$isTextNode(o)&&(h=o.getTextContent().length,o.__key!==l&&t!==0&&(t=h),t!==h&&([o]=o.splitText(t)),t!==0&&Ve(o,e)),t=1;t<r;t++)h=n[t],u=h.getKey(),E.$isTextNode(h)&&u!==i.getKey()&&u!==o.getKey()&&!h.isToken()&&Ve(h,e)}};H.$selectAll=function(t){let e=t.anchor;t=t.focus;var n=e.getNode().getTopLevelElementOrThrow().getParentOrThrow();let r=n.getFirstDescendant();n=n.getLastDescendant();let i="element",o="element",l=0;E.$isTextNode(r)?i="text":E.$isElementNode(r)||r===null||(r=r.getParentOrThrow()),E.$isTextNode(n)?(o="text",l=n.getTextContentSize()):E.$isElementNode(n)||n===null||(n=n.getParentOrThrow()),r&&n&&(e.set(r.getKey(),0,i),t.set(n.getKey(),l,o))};H.$setBlocksType=function(t,e){if(t.anchor.key==="root"){e=e();var n=E.$getRoot();(t=n.getFirstChild())?t.replace(e,!0):n.append(e)}else for(n=t.getNodes(),t=t.anchor.getNode().getParentOrThrow(),n.indexOf(t)===-1&&n.push(t),t.isInline()&&(t=t.getParentOrThrow(),n.indexOf(t)===-1&&n.push(t)),t=0;t<n.length;t++){let o=n[t];var r=o;if(!E.$isElementNode(r)||E.$isRootOrShadowRoot(r))r=!1;else{var i=r.getFirstChild();i=i===null||E.$isTextNode(i)||i.isInline(),r=!r.isInline()&&r.canBeEmpty()!==!1&&i}r&&(r=e(),r.setFormat(o.getFormatType()),r.setIndent(o.getIndent()),o.replace(r,!0))}};H.$shouldOverrideDefaultCharacterSelection=function(t,e){return t=E.$getAdjacentNode(t.focus,e),E.$isDecoratorNode(t)&&!t.isIsolated()||E.$isElementNode(t)&&!t.isInline()&&!t.canBeEmpty()};H.$sliceSelectedTextNodeContent=function(t,e){if(e.isSelected()&&!e.isSegmented()&&!e.isToken()&&(E.$isRangeSelection(t)||E.DEPRECATED_$isGridSelection(t))){var n=t.anchor.getNode(),r=t.focus.getNode(),i=e.is(n),o=e.is(r);if(i||o){i=t.isBackward();let[l,s]=t.getCharacterOffsets();t=n.is(r),o=e.is(i?r:n),r=e.is(i?n:r),n=0;let u;t?(n=l>s?s:l,u=l>s?l:s):o?(n=i?s:l,u=void 0):r&&(i=i?l:s,n=0,u=i),e.__text=e.__text.slice(n,u)}}return e};H.$wrapNodes=function(t,e,n=null){var r=t.getNodes();let i=r.length;var o=t.anchor;if(i===0||i===1&&o.type==="element"&&o.getNode().getChildrenSize()===0){t=o.type==="text"?o.getNode().getParentOrThrow():o.getNode(),r=t.getChildren();let s=e();s.setFormat(t.getFormatType()),s.setIndent(t.getIndent()),r.forEach(u=>s.append(u)),n&&(s=n.append(s)),t.replace(s)}else{o=null;var l=[];for(let s=0;s<i;s++){let u=r[s];E.$isRootOrShadowRoot(u)?(Vn(t,l,l.length,e,n),l=[],o=u):o===null||o!==null&&E.$hasAncestor(u,o)?l.push(u):(Vn(t,l,l.length,e,n),l=[u])}Vn(t,l,l.length,e,n)}};H.createDOMRange=function(t,e,n,r,i){let o=e.getKey(),l=r.getKey(),s=document.createRange(),u=t.getElementByKey(o);if(t=t.getElementByKey(l),E.$isTextNode(e)&&(u=Ei(u)),E.$isTextNode(r)&&(t=Ei(t)),e===void 0||r===void 0||u===null||t===null)return null;u.nodeName==="BR"&&([u,n]=Si(u)),t.nodeName==="BR"&&([t,i]=Si(t)),e=u.firstChild,u===t&&e!=null&&e.nodeName==="BR"&&n===0&&i===0&&(i=1);try{s.setStart(u,n),s.setEnd(t,i)}catch{return null}return!s.collapsed||n===i&&o===l||(s.setStart(t,i),s.setEnd(u,n)),s};H.createRectsFromDOMRange=function(t,e){var n=t.getRootElement();if(n===null)return[];t=n.getBoundingClientRect(),n=getComputedStyle(n),n=parseFloat(n.paddingLeft)+parseFloat(n.paddingRight),e=Array.from(e.getClientRects());let r=e.length,i;for(let o=0;o<r;o++){let l=e[o],s=l.width+n===t.width;i&&i.top===l.top&&i.left===l.left&&i.width===l.width&&i.height===l.height||s?(e.splice(o--,1),r--):i=l}return e};H.getStyleObjectFromCSS=yn;H.trimTextContentFromAnchor=function(t,e,n){let r=e.getNode();if(E.$isElementNode(r)){var i=r.getDescendantByIndex(e.offset);i!==null&&(r=i)}for(;0<n&&r!==null;){var o=r.getPreviousSibling(),l=0;if(o===null){i=r.getParentOrThrow();for(var s=i.getPreviousSibling();s===null;){if(i=i.getParent(),i===null){o=null;break}s=i.getPreviousSibling()}i!==null&&(l=i.isInline()?0:2,o=E.$isElementNode(s)?s.getLastDescendant():s)}if(s=r.getTextContent(),s===""&&E.$isElementNode(r)&&!r.isInline()&&(s=`

`),i=r.getTextContentSize(),!E.$isTextNode(r)||n>=i)s=r.getParent(),r.remove(),s==null||s.getChildrenSize()!==0||E.$isRootNode(s)||s.remove(),n-=i+l,r=o;else{let u=r.getKey();l=t.getEditorState().read(()=>{const c=E.$getNodeByKey(u);return E.$isTextNode(c)&&c.isSimpleText()?c.getTextContent():null}),o=i-n;let a=s.slice(0,o);l!==null&&l!==s?(n=E.$getPreviousSelection(),i=r,r.isSimpleText()?r.setTextContent(l):(i=E.$createTextNode(l),r.replace(i)),E.$isRangeSelection(n)&&n.isCollapsed()&&(n=n.anchor.offset,i.select(n,n))):r.isSimpleText()?(l=e.key===u,s=e.offset,s<n&&(s=i),n=l?s-n:0,i=l?s:o,l&&n===0?([n]=r.splitText(n,i),n.remove()):([,n]=r.splitText(n,i),n.remove())):(n=E.$createTextNode(a),r.replace(n)),n=0}}};const Ls=H;var $n=Ls,Fs=$n,z=ne;function nl(t,e){for(let n of e)if(t.type.startsWith(n))return!0;return!1}function rl(t,e){for(;t!==z.$getRoot()&&t!=null;){if(e(t))return t;t=t.getParent()}return null}function il(t){return t.nodeType===1}U.$splitNode=z.$splitNode;U.$dfs=function(t,e){let n=[];t=(t||z.$getRoot()).getLatest(),e=e||(z.$isElementNode(t)?t.getLastDescendant():t);for(var r=t,i=0;(r=r.getParent())!==null;)i++;for(r=i;t!==null&&!t.is(e);)if(n.push({depth:r,node:t}),z.$isElementNode(t)&&0<t.getChildrenSize())t=t.getFirstChild(),r++;else for(i=null;i===null&&t!==null;)i=t.getNextSibling(),i===null?(t=t.getParent(),r--):t=i;return t!==null&&t.is(e)&&n.push({depth:r,node:t}),n};U.$findMatchingParent=rl;U.$getNearestBlockElementAncestorOrThrow=function(t){if(t=rl(t,e=>z.$isElementNode(e)&&!e.isInline()),!z.$isElementNode(t))throw Error("Minified Lexical error #4; visit https://lexical.dev/docs/error?code=4 for the full message or use the non-minified dev environment for full errors and additional helpful warnings.");return t};U.$getNearestNodeOfType=function(t,e){for(;t!=null;){if(t instanceof e)return t;t=t.getParent()}return null};U.$insertNodeToNearestRoot=function(t){var e=z.$getSelection();if(z.$isRangeSelection(e)){var{focus:n}=e;if(e=n.getNode(),n=n.offset,z.$isRootOrShadowRoot(e))n=e.getChildAtIndex(n),n==null?e.append(t):n.insertBefore(t),t.selectNext();else{let r,i;z.$isTextNode(e)?(r=e.getParentOrThrow(),i=e.getIndexWithinParent(),0<n&&(i+=1,e.splitText(n))):(r=e,i=n),[,e]=z.$splitNode(r,i),e.insertBefore(t),e.selectStart()}}else z.$isNodeSelection(e)||z.DEPRECATED_$isGridSelection(e)?(e=e.getNodes(),e[e.length-1].getTopLevelElementOrThrow().insertAfter(t)):z.$getRoot().append(t),e=z.$createParagraphNode(),t.insertAfter(e),e.select();return t.getLatest()};U.$restoreEditorState=function(t,e){let n=new Map,r=t._pendingEditorState;for(let[i,o]of e._nodeMap){let l=Fs.$cloneWithProperties(o);z.$isTextNode(l)&&(l.__text=o.__text),n.set(i,l)}r&&(r._nodeMap=n),t._dirtyType=2,t=e._selection,z.$setSelection(t===null?null:t.clone())};U.$wrapNodeInElement=function(t,e){return e=e(),t.replace(e),e.append(t),e};U.addClassNamesToElement=function(t,...e){e.forEach(n=>{typeof n=="string"&&(n=n.split(" ").filter(r=>r!==""),t.classList.add(...n))})};U.isHTMLAnchorElement=function(t){return il(t)&&t.tagName==="A"};U.isHTMLElement=il;U.isMimeType=nl;U.mediaFileReader=function(t,e){let n=t[Symbol.iterator]();return new Promise((r,i)=>{let o=[],l=()=>{const{done:s,value:u}=n.next();if(s)return r(o);const a=new FileReader;a.addEventListener("error",i),a.addEventListener("load",()=>{const c=a.result;typeof c=="string"&&o.push({file:u,result:c}),l()}),nl(u,e)?a.readAsDataURL(u):l()};l()})};U.mergeRegister=function(...t){return()=>{t.forEach(e=>e())}};U.registerNestedElementResolver=function(t,e,n,r){return t.registerNodeTransform(e,i=>{e:{for(var o=i.getChildren(),l=0;l<o.length;l++)if(o[l]instanceof e){o=null;break e}for(o=i;o!==null;)if(l=o,o=o.getParent(),o instanceof e){o={child:l,parent:o};break e}o=null}if(o!==null){const{child:s,parent:u}=o;if(s.is(i)){if(r(u,i),i=s.getNextSiblings(),o=i.length,u.insertAfter(s),o!==0){l=n(u),s.insertAfter(l);for(let a=0;a<o;a++)l.append(i[a])}u.canBeEmpty()||u.getChildrenSize()!==0||u.remove()}}})};U.removeClassNamesFromElement=function(t,...e){e.forEach(n=>{typeof n=="string"&&t.classList.remove(...n.split(" "))})};const Bs=U;var Wt=Bs,ol={},Xt=ne;ol.registerDragonSupport=function(t){let e=window.location.origin,n=r=>{if(r.origin===e){var i=t.getRootElement();if(document.activeElement===i&&(i=r.data,typeof i=="string")){try{var o=JSON.parse(i)}catch{return}if(o&&o.protocol==="nuanria_messaging"&&o.type==="request"&&(o=o.payload)&&o.functionId==="makeChanges"&&(o=o.args)){const[l,s,u,a,c]=o;t.update(()=>{const d=Xt.$getSelection();if(Xt.$isRangeSelection(d)){var h=d.anchor;let f=h.getNode(),_=0,y=0;Xt.$isTextNode(f)&&0<=l&&0<=s&&(_=l,y=l+s,d.setTextNodeRange(f,_,f,y)),(_!==y||u!=="")&&(d.insertRawText(u),f=h.getNode()),Xt.$isTextNode(f)&&(_=a,y=a+c,h=f.getTextContentSize(),_=_>h?h:_,y=y>h?h:y,d.setTextNodeRange(f,_,f,y)),r.stopImmediatePropagation()}})}}}};return window.addEventListener("message",n,!0),()=>{window.removeEventListener("message",n,!0)}};const zs=ol;var js=zs,ye={},Ee={},jr={},Di=$n,be=ne;function ll(t,e,n,r=null){let i=r!=null?e.isSelected():!0,o=be.$isElementNode(e)&&e.excludeFromCopy("html");var l=e;r!==null&&(l=Di.$cloneWithProperties(e),l=be.$isTextNode(l)&&r!=null?Di.$sliceSelectedTextNodeContent(r,l):l);let s=be.$isElementNode(l)?l.getChildren():[],{element:u,after:a}=l.exportDOM(t);if(!u)return!1;let c=new DocumentFragment;for(let d=0;d<s.length;d++){let h=s[d],f=ll(t,h,c,r);!i&&be.$isElementNode(e)&&f&&e.extractWithChild(h,r,"html")&&(i=!0)}return i&&!o?(u.append(c),n.append(u),a&&(t=a.call(l,u))&&u.replaceWith(t)):n.append(c),i}let sl=new Set(["STYLE"]);function ul(t,e,n=new Map,r,i=!1){let o=[];if(sl.has(t.nodeName))return o;let l=null;var{nodeName:s}=t,u=e._htmlConversions.get(s.toLowerCase());if(s=null,u!==void 0)for(a of u)u=a(t),u!==null&&(s===null||s.priority<u.priority)&&(s=u);var a=(a=s!==null?s.conversion:null)?a(t,void 0,i):null;if(s=null,a!==null){if(s=a.after,l=a.node,l!==null){for(var[,c]of n)if(l=c(l,r),!l)break;l&&o.push(l)}a.forChild!=null&&n.set(t.nodeName,a.forChild)}for(t=t.childNodes,r=[],c=0;c<t.length;c++)r.push(...ul(t[c],e,new Map(n),l,i||(a&&a.preformatted)===!0));return s!=null&&(r=s(r)),l==null?o=o.concat(r):be.$isElementNode(l)&&l.append(...r),o}jr.$generateHtmlFromNodes=function(t,e){if(typeof document>"u"||typeof window>"u")throw Error("To use $generateHtmlFromNodes in headless mode please initialize a headless browser implementation such as JSDom before calling this function.");let n=document.createElement("div"),r=be.$getRoot().getChildren();for(let i=0;i<r.length;i++)ll(t,r[i],n,e);return n.innerHTML};jr.$generateNodesFromDOM=function(t,e){let n=[];e=e.body?e.body.childNodes:[];for(let i=0;i<e.length;i++){var r=e[i];sl.has(r.nodeName)||(r=ul(r,t),r!==null&&(n=n.concat(r)))}return n};const Ws=jr;var al=Ws,dl=al,hr=$n,Et=Wt,D=ne;function Ce(t){throw Error(`Minified Lexical error #${t}; visit https://lexical.dev/docs/error?code=${t} for the full message or use the non-minified dev environment for full errors and additional helpful warnings.`)}function cl(t){let e=D.$getSelection();if(e==null)throw Error("Expected valid LexicalSelection");return D.$isRangeSelection(e)&&e.isCollapsed()||e.getNodes().length===0?"":dl.$generateHtmlFromNodes(t,e)}function fl(t){let e=D.$getSelection();if(e==null)throw Error("Expected valid LexicalSelection");return D.$isRangeSelection(e)&&e.isCollapsed()||e.getNodes().length===0?null:JSON.stringify(gl(t,e))}function gr(t,e,n){(D.DEPRECATED_$isGridSelection(n)||Et.$findMatchingParent(n.anchor.getNode(),r=>D.DEPRECATED_$isGridCellNode(r))!==null&&Et.$findMatchingParent(n.focus.getNode(),r=>D.DEPRECATED_$isGridCellNode(r))!==null)&&e.length===1&&D.DEPRECATED_$isGridNode(e[0])?Hs(e,n,!1,t):Ks(e,n)}function Ks(t,e){let n=[],r=null;for(let i=0;i<t.length;i++){let o=t[i],l=D.$isLineBreakNode(o);if(l||D.$isDecoratorNode(o)&&o.isInline()||D.$isElementNode(o)&&o.isInline()||D.$isTextNode(o)||o.isParentRequired()){if(r===null&&(r=o.createParentElementNode(),n.push(r),l))continue;r!==null&&r.append(o)}else n.push(o),r=null}D.$isRangeSelection(e)?e.insertNodes(n):D.DEPRECATED_$isGridSelection(e)&&(t=e.anchor.getNode(),D.DEPRECATED_$isGridCellNode(t)||Ce(41),t.append(...n))}function Hs(t,e,n,r){t.length===1&&D.DEPRECATED_$isGridNode(t[0])||Ce(42);var i=t[0];t=i.getChildren(),n=i.getFirstChildOrThrow().getChildrenSize();var o=i.getChildrenSize(),l=Et.$findMatchingParent(e.anchor.getNode(),f=>D.DEPRECATED_$isGridCellNode(f));e=(i=l&&Et.$findMatchingParent(l,f=>D.DEPRECATED_$isGridRowNode(f)))&&Et.$findMatchingParent(i,f=>D.DEPRECATED_$isGridNode(f)),D.DEPRECATED_$isGridCellNode(l)&&D.DEPRECATED_$isGridRowNode(i)&&D.DEPRECATED_$isGridNode(e)||Ce(43);var s=i.getIndexWithinParent(),u=Math.min(e.getChildrenSize()-1,s+o-1);o=l.getIndexWithinParent(),l=Math.min(i.getChildrenSize()-1,o+n-1),n=Math.min(o,l),i=Math.min(s,u),o=Math.max(o,l),s=Math.max(s,u),u=e.getChildren(),l=0;let a,c;for(let f=i;f<=s;f++){var d=u[f];D.DEPRECATED_$isGridRowNode(d)||Ce(24);var h=t[l];D.DEPRECATED_$isGridRowNode(h)||Ce(24),d=d.getChildren(),h=h.getChildren();let _=0;for(let y=n;y<=o;y++){let T=d[y];D.DEPRECATED_$isGridCellNode(T)||Ce(25);let S=h[_];D.DEPRECATED_$isGridCellNode(S)||Ce(25),f===i&&y===n?a=T.getKey():f===s&&y===o&&(c=T.getKey());let $=T.getChildren();S.getChildren().forEach(M=>{D.$isTextNode(M)&&D.$createParagraphNode().append(M),T.append(M)}),$.forEach(M=>M.remove()),_++}l++}a&&c&&(t=D.DEPRECATED_$createGridSelection(),t.set(e.getKey(),a,c),D.$setSelection(t),r.dispatchCommand(D.SELECTION_CHANGE_COMMAND,void 0))}function hl(t,e,n,r=[]){let i=e!=null?n.isSelected(e):!0,o=D.$isElementNode(n)&&n.excludeFromCopy("html");var l=n;if(e!==null){var s=hr.$cloneWithProperties(n);l=s=D.$isTextNode(s)&&e!=null?hr.$sliceSelectedTextNodeContent(e,s):s}let u=D.$isElementNode(l)?l.getChildren():[];var a=l;s=a.exportJSON(),s.type!==a.constructor.getType()&&Ce(58);var c=s.children;for(D.$isElementNode(a)&&(Array.isArray(c)||Ce(59)),D.$isTextNode(l)&&(l=l.__text,0<l.length?s.text=l:i=!1),l=0;l<u.length;l++)a=u[l],c=hl(t,e,a,s.children),!i&&D.$isElementNode(n)&&c&&n.extractWithChild(a,e,"clone")&&(i=!0);if(i&&!o)r.push(s);else if(Array.isArray(s.children))for(t=0;t<s.children.length;t++)r.push(s.children[t]);return i}function gl(t,e){let n=[],r=D.$getRoot().getChildren();for(let i=0;i<r.length;i++)hl(t,e,r[i],n);return{namespace:t._config.namespace,nodes:n}}function _l(t){let e=[];for(let n=0;n<t.length;n++){let r=D.$parseSerializedNode(t[n]);D.$isTextNode(r)&&hr.$addNodeStyle(r),e.push(r)}return e}let qe=null;function Oi(t,e){var n=window.getSelection();if(!n)return!1;var r=n.anchorNode;if(n=n.focusNode,r!==null&&n!==null&&!D.isSelectionWithinEditor(t,r,n)||(e.preventDefault(),e=e.clipboardData,r=D.$getSelection(),e===null||r===null))return!1;n=cl(t),t=fl(t);let i="";return r!==null&&(i=r.getTextContent()),n!==null&&e.setData("text/html",n),t!==null&&e.setData("application/x-lexical-editor",t),e.setData("text/plain",i),!0}Ee.$generateJSONFromSelectedNodes=gl;Ee.$generateNodesFromSerializedNodes=_l;Ee.$getHtmlContent=cl;Ee.$getLexicalContent=fl;Ee.$insertDataTransferForPlainText=function(t,e){t=t.getData("text/plain"),t!=null&&e.insertRawText(t)};Ee.$insertDataTransferForRichText=function(t,e,n){var r=t.getData("application/x-lexical-editor");if(r)try{let o=JSON.parse(r);if(o.namespace===n._config.namespace&&Array.isArray(o.nodes)){let l=_l(o.nodes);return gr(n,l,e)}}catch{}if(r=t.getData("text/html"))try{var i=new DOMParser().parseFromString(r,"text/html");let o=dl.$generateNodesFromDOM(n,i);return gr(n,o,e)}catch{}if(t=t.getData("text/plain"),t!=null)if(D.$isRangeSelection(e))for(t=t.split(/\r?\n/),n=t.length,i=0;i<n;i++)e.insertText(t[i]),i<n-1&&e.insertParagraph();else e.insertRawText(t)};Ee.$insertGeneratedNodes=gr;Ee.copyToClipboard=async function(t,e){if(qe!==null)return!1;if(e!==null)return new Promise(o=>{t.update(()=>{o(Oi(t,e))})});var n=t.getRootElement();let r=document.getSelection();if(n===null||r===null)return!1;let i=document.createElement("span");return i.style.cssText="position: fixed; top: -1000px;",i.append(document.createTextNode("#")),n.append(i),n=new Range,n.setStart(i,0),n.setEnd(i,1),r.removeAllRanges(),r.addRange(n),new Promise(o=>{let l=t.registerCommand(D.COPY_COMMAND,s=>(s instanceof ClipboardEvent&&(l(),qe!==null&&(window.clearTimeout(qe),qe=null),o(Oi(t,s))),!0),D.COMMAND_PRIORITY_CRITICAL);qe=window.setTimeout(()=>{l(),qe=null,o(!1)},50),document.execCommand("copy"),i.remove()})};const Ys=Ee;var Gs=Ys,xn=Gs,Qt=$n,rt=Wt,g=ne;function wi(t,e){return typeof document.caretRangeFromPoint<"u"?(t=document.caretRangeFromPoint(t,e),t===null?null:{node:t.startContainer,offset:t.startOffset}):document.caretPositionFromPoint!=="undefined"?(t=document.caretPositionFromPoint(t,e),t===null?null:{node:t.offsetNode,offset:t.offset}):null}let dt=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Us=dt&&"documentMode"in document?document.documentMode:null,Js=dt&&"InputEvent"in window&&!Us?"getTargetRanges"in new window.InputEvent("input"):!1,Vs=dt&&/Version\/[\d.]+.*Safari/.test(navigator.userAgent),qs=dt&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream,Xs=dt&&/^(?=.*Chrome).*/i.test(navigator.userAgent),Qs=dt&&/AppleWebKit\/[\d.]+/.test(navigator.userAgent)&&!Xs,_r=g.createCommand("DRAG_DROP_PASTE_FILE"),Wr=class pl extends g.ElementNode{static getType(){return"quote"}static clone(e){return new pl(e.__key)}constructor(e){super(e)}createDOM(e){let n=document.createElement("blockquote");return rt.addClassNamesToElement(n,e.theme.quote),n}updateDOM(){return!1}static importDOM(){return{blockquote:()=>({conversion:Zs,priority:0})}}static importJSON(e){let n=Kr();return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),type:"quote"}}insertNewAfter(e,n){e=g.$createParagraphNode();let r=this.getDirection();return e.setDirection(r),this.insertAfter(e,n),e}collapseAtStart(){let e=g.$createParagraphNode();return this.getChildren().forEach(n=>e.append(n)),this.replace(e),!0}};function Kr(){return g.$applyNodeReplacement(new Wr)}class Kt extends g.ElementNode{static getType(){return"heading"}static clone(e){return new Kt(e.__tag,e.__key)}constructor(e,n){super(n),this.__tag=e}getTag(){return this.__tag}createDOM(e){let n=this.__tag,r=document.createElement(n);return e=e.theme.heading,e!==void 0&&rt.addClassNamesToElement(r,e[n]),r}updateDOM(){return!1}static importDOM(){return{h1:()=>({conversion:Xe,priority:0}),h2:()=>({conversion:Xe,priority:0}),h3:()=>({conversion:Xe,priority:0}),h4:()=>({conversion:Xe,priority:0}),h5:()=>({conversion:Xe,priority:0}),h6:()=>({conversion:Xe,priority:0}),p:e=>(e=e.firstChild,e!==null&&$i(e)?{conversion:()=>({node:null}),priority:3}:null),span:e=>$i(e)?{conversion:()=>({node:et("h1")}),priority:3}:null}}static importJSON(e){let n=et(e.tag);return n.setFormat(e.format),n.setIndent(e.indent),n.setDirection(e.direction),n}exportJSON(){return{...super.exportJSON(),tag:this.getTag(),type:"heading",version:1}}insertNewAfter(e,n=!0){e=e?e.anchor.offset:0,e=0<e&&e<this.getTextContentSize()?et(this.getTag()):g.$createParagraphNode();let r=this.getDirection();return e.setDirection(r),this.insertAfter(e,n),e}collapseAtStart(){let e=this.isEmpty()?g.$createParagraphNode():et(this.getTag());return this.getChildren().forEach(n=>e.append(n)),this.replace(e),!0}extractWithChild(){return!0}}function $i(t){return t.nodeName.toLowerCase()==="span"?t.style.fontSize==="26pt":!1}function Xe(t){t=t.nodeName.toLowerCase();let e=null;return(t==="h1"||t==="h2"||t==="h3"||t==="h4"||t==="h5"||t==="h6")&&(e=et(t)),{node:e}}function Zs(){return{node:Kr()}}function et(t){return g.$applyNodeReplacement(new Kt(t))}function bs(t,e){t.preventDefault(),e.update(()=>{let n=g.$getSelection(),r=t instanceof InputEvent||t instanceof KeyboardEvent?null:t.clipboardData;r!=null&&(g.$isRangeSelection(n)||g.DEPRECATED_$isGridSelection(n))&&xn.$insertDataTransferForRichText(r,n,e)},{tag:"paste"})}async function eu(t,e){await xn.copyToClipboard(e,t instanceof ClipboardEvent?t:null),e.update(()=>{let n=g.$getSelection();g.$isRangeSelection(n)?n.removeText():g.$isNodeSelection(n)&&n.getNodes().forEach(r=>r.remove())})}function mt(t){let e=null;if(t instanceof DragEvent?e=t.dataTransfer:t instanceof ClipboardEvent&&(e=t.clipboardData),e===null)return[!1,[],!1];var n=e.types;return t=n.includes("Files"),n=n.includes("text/html")||n.includes("text/plain"),[t,Array.from(e.files),n]}function Mi(t,e){var n=g.$getSelection();if(g.$isRangeSelection(n)){var r=new Set;n=n.getNodes();for(let i=0;i<n.length;i++){let o=n[i],l=o.getKey();if(r.has(l))continue;let s=rt.$getNearestBlockElementAncestorOrThrow(o),u=s.getKey();s.canInsertTab()?(t(o),r.add(l)):s.canIndent()&&!r.has(u)&&(r.add(u),e(s))}}}function Zt(t){return t=g.$getNearestNodeFromDOMNode(t),g.$isDecoratorNode(t)}ye.$createHeadingNode=et;ye.$createQuoteNode=Kr;ye.$isHeadingNode=function(t){return t instanceof Kt};ye.$isQuoteNode=function(t){return t instanceof Wr};ye.DRAG_DROP_PASTE=_r;ye.HeadingNode=Kt;ye.QuoteNode=Wr;ye.eventFiles=mt;ye.registerRichText=function(t){return rt.mergeRegister(t.registerCommand(g.CLICK_COMMAND,()=>{const e=g.$getSelection();return g.$isNodeSelection(e)?(e.clear(),!0):!1},0),t.registerCommand(g.DELETE_CHARACTER_COMMAND,e=>{const n=g.$getSelection();return g.$isRangeSelection(n)?(n.deleteCharacter(e),!0):!1},g.COMMAND_PRIORITY_EDITOR),t.registerCommand(g.DELETE_WORD_COMMAND,e=>{const n=g.$getSelection();return g.$isRangeSelection(n)?(n.deleteWord(e),!0):!1},g.COMMAND_PRIORITY_EDITOR),t.registerCommand(g.DELETE_LINE_COMMAND,e=>{const n=g.$getSelection();return g.$isRangeSelection(n)?(n.deleteLine(e),!0):!1},g.COMMAND_PRIORITY_EDITOR),t.registerCommand(g.CONTROLLED_TEXT_INSERTION_COMMAND,e=>{const n=g.$getSelection();if(typeof e=="string")g.$isRangeSelection(n)?n.insertText(e):g.DEPRECATED_$isGridSelection(n);else{if(!g.$isRangeSelection(n)&&!g.DEPRECATED_$isGridSelection(n))return!1;const r=e.dataTransfer;r!=null?xn.$insertDataTransferForRichText(r,n,t):g.$isRangeSelection(n)&&(e=e.data)&&n.insertText(e)}return!0},g.COMMAND_PRIORITY_EDITOR),t.registerCommand(g.REMOVE_TEXT_COMMAND,()=>{const e=g.$getSelection();return g.$isRangeSelection(e)?(e.removeText(),!0):!1},g.COMMAND_PRIORITY_EDITOR),t.registerCommand(g.FORMAT_TEXT_COMMAND,e=>{const n=g.$getSelection();return g.$isRangeSelection(n)?(n.formatText(e),!0):!1},g.COMMAND_PRIORITY_EDITOR),t.registerCommand(g.FORMAT_ELEMENT_COMMAND,e=>{var n=g.$getSelection();if(!g.$isRangeSelection(n)&&!g.$isNodeSelection(n))return!1;n=n.getNodes();for(const r of n)rt.$getNearestBlockElementAncestorOrThrow(r).setFormat(e);return!0},g.COMMAND_PRIORITY_EDITOR),t.registerCommand(g.INSERT_LINE_BREAK_COMMAND,e=>{const n=g.$getSelection();return g.$isRangeSelection(n)?(n.insertLineBreak(e),!0):!1},g.COMMAND_PRIORITY_EDITOR),t.registerCommand(g.INSERT_PARAGRAPH_COMMAND,()=>{const e=g.$getSelection();return g.$isRangeSelection(e)?(e.insertParagraph(),!0):!1},g.COMMAND_PRIORITY_EDITOR),t.registerCommand(g.INDENT_CONTENT_COMMAND,()=>(Mi(()=>{t.dispatchCommand(g.CONTROLLED_TEXT_INSERTION_COMMAND,"	")},e=>{const n=e.getIndent();n!==10&&e.setIndent(n+1)}),!0),g.COMMAND_PRIORITY_EDITOR),t.registerCommand(g.OUTDENT_CONTENT_COMMAND,()=>(Mi(e=>{g.$isTextNode(e)&&(e=e.getTextContent(),e[e.length-1]==="	"&&t.dispatchCommand(g.DELETE_CHARACTER_COMMAND,!0))},e=>{const n=e.getIndent();n!==0&&e.setIndent(n-1)}),!0),g.COMMAND_PRIORITY_EDITOR),t.registerCommand(g.KEY_ARROW_UP_COMMAND,e=>{var n=g.$getSelection();if(g.$isNodeSelection(n)&&!Zt(e.target)){if(e=n.getNodes(),0<e.length)return e[0].selectPrevious(),!0}else if(g.$isRangeSelection(n)){if(n=g.$getAdjacentNode(n.focus,!0),g.$isDecoratorNode(n)&&!n.isIsolated()&&!n.isInline())return n.selectPrevious(),e.preventDefault(),!0;if(g.$isElementNode(n)&&!n.isInline()&&!n.canBeEmpty())return n.select(),e.preventDefault(),!0}return!1},g.COMMAND_PRIORITY_EDITOR),t.registerCommand(g.KEY_ARROW_DOWN_COMMAND,e=>{var n=g.$getSelection();if(g.$isNodeSelection(n)){if(e=n.getNodes(),0<e.length)return e[0].selectNext(0,0),!0}else if(g.$isRangeSelection(n)){let r=n.focus;if(r.key==="root"&&r.offset===g.$getRoot().getChildrenSize())return e.preventDefault(),!0;if(n=g.$getAdjacentNode(n.focus,!1),g.$isDecoratorNode(n)&&!n.isIsolated()&&!n.isInline())return n.selectNext(),e.preventDefault(),!0}return!1},g.COMMAND_PRIORITY_EDITOR),t.registerCommand(g.KEY_ARROW_LEFT_COMMAND,e=>{const n=g.$getSelection();if(g.$isNodeSelection(n)){var r=n.getNodes();if(0<r.length)return e.preventDefault(),r[0].selectPrevious(),!0}return g.$isRangeSelection(n)&&Qt.$shouldOverrideDefaultCharacterSelection(n,!0)?(r=e.shiftKey,e.preventDefault(),Qt.$moveCharacter(n,r,!0),!0):!1},g.COMMAND_PRIORITY_EDITOR),t.registerCommand(g.KEY_ARROW_RIGHT_COMMAND,e=>{const n=g.$getSelection();if(g.$isNodeSelection(n)&&!Zt(e.target)){var r=n.getNodes();if(0<r.length)return e.preventDefault(),r[0].selectNext(0,0),!0}return g.$isRangeSelection(n)?(r=e.shiftKey,Qt.$shouldOverrideDefaultCharacterSelection(n,!1)?(e.preventDefault(),Qt.$moveCharacter(n,r,!1),!0):!1):!1},g.COMMAND_PRIORITY_EDITOR),t.registerCommand(g.KEY_BACKSPACE_COMMAND,e=>{if(Zt(e.target))return!1;const n=g.$getSelection();if(!g.$isRangeSelection(n))return!1;e.preventDefault(),{anchor:e}=n;const r=e.getNode();return n.isCollapsed()&&e.offset===0&&!g.$isRootNode(r)&&0<rt.$getNearestBlockElementAncestorOrThrow(r).getIndent()?t.dispatchCommand(g.OUTDENT_CONTENT_COMMAND,void 0):t.dispatchCommand(g.DELETE_CHARACTER_COMMAND,!0)},g.COMMAND_PRIORITY_EDITOR),t.registerCommand(g.KEY_DELETE_COMMAND,e=>{if(Zt(e.target))return!1;const n=g.$getSelection();return g.$isRangeSelection(n)?(e.preventDefault(),t.dispatchCommand(g.DELETE_CHARACTER_COMMAND,!1)):!1},g.COMMAND_PRIORITY_EDITOR),t.registerCommand(g.KEY_ENTER_COMMAND,e=>{const n=g.$getSelection();if(!g.$isRangeSelection(n))return!1;if(e!==null){if((qs||Vs||Qs)&&Js)return!1;if(e.preventDefault(),e.shiftKey)return t.dispatchCommand(g.INSERT_LINE_BREAK_COMMAND,!1)}return t.dispatchCommand(g.INSERT_PARAGRAPH_COMMAND,void 0)},g.COMMAND_PRIORITY_EDITOR),t.registerCommand(g.KEY_ESCAPE_COMMAND,()=>{const e=g.$getSelection();return g.$isRangeSelection(e)?(t.blur(),!0):!1},g.COMMAND_PRIORITY_EDITOR),t.registerCommand(g.DROP_COMMAND,e=>{const[,n]=mt(e);if(0<n.length){var r=wi(e.clientX,e.clientY);if(r!==null){const{offset:o,node:l}=r;var i=g.$getNearestNodeFromDOMNode(l);if(i!==null){if(r=g.$createRangeSelection(),g.$isTextNode(i))r.anchor.set(i.getKey(),o,"text"),r.focus.set(i.getKey(),o,"text");else{const s=i.getParentOrThrow().getKey();i=i.getIndexWithinParent()+1,r.anchor.set(s,i,"element"),r.focus.set(s,i,"element")}r=g.$normalizeSelection__EXPERIMENTAL(r),g.$setSelection(r)}t.dispatchCommand(_r,n)}return e.preventDefault(),!0}return e=g.$getSelection(),!!g.$isRangeSelection(e)},g.COMMAND_PRIORITY_EDITOR),t.registerCommand(g.DRAGSTART_COMMAND,e=>{[e]=mt(e);const n=g.$getSelection();return!(e&&!g.$isRangeSelection(n))},g.COMMAND_PRIORITY_EDITOR),t.registerCommand(g.DRAGOVER_COMMAND,e=>{var[n]=mt(e);const r=g.$getSelection();return n&&!g.$isRangeSelection(r)?!1:(n=wi(e.clientX,e.clientY),n!==null&&(n=g.$getNearestNodeFromDOMNode(n.node),g.$isDecoratorNode(n)&&e.preventDefault()),!0)},g.COMMAND_PRIORITY_EDITOR),t.registerCommand(g.COPY_COMMAND,e=>(xn.copyToClipboard(t,e instanceof ClipboardEvent?e:null),!0),g.COMMAND_PRIORITY_EDITOR),t.registerCommand(g.CUT_COMMAND,e=>(eu(e,t),!0),g.COMMAND_PRIORITY_EDITOR),t.registerCommand(g.PASTE_COMMAND,e=>{const[,n,r]=mt(e);if(0<n.length&&!r)return t.dispatchCommand(_r,n),!0;const i=g.$getSelection();return g.$isRangeSelection(i)||g.DEPRECATED_$isGridSelection(i)?(bs(e,t),!0):!1},g.COMMAND_PRIORITY_EDITOR))};const tu=ye;var nu=tu,ml=Ue,ru=Rs,se=F,iu=ks,yl=Wt,Ri=Dl,ou=js,lu=nu,Hr=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?se.useLayoutEffect:se.useEffect;function Ai(t){return t.getEditorState().read(iu.$canShowPlaceholderCurry(t.isComposing()))}function su(t){let[e,n]=se.useState(()=>Ai(t));return Hr(()=>{function r(){let i=Ai(t);n(i)}return r(),yl.mergeRegister(t.registerUpdateListener(()=>{r()}),t.registerEditableListener(()=>{r()}))},[t]),e}function uu(t,e){let[n,r]=se.useState(()=>t.getDecorators());return Hr(()=>t.registerDecoratorListener(i=>{Ri.flushSync(()=>{r(i)})}),[t]),se.useEffect(()=>{r(t.getDecorators())},[t]),se.useMemo(()=>{let i=[],o=Object.keys(n);for(let s=0;s<o.length;s++){var l=o[s];let u=se.createElement(e,{onError:a=>t._onError(a)},se.createElement(se.Suspense,{fallback:null},n[l]));l=t.getElementByKey(l),l!==null&&i.push(Ri.createPortal(u,l))}return i},[e,n,t])}function au(t){Hr(()=>yl.mergeRegister(lu.registerRichText(t),ou.registerDragonSupport(t)),[t])}function du({content:t}){var[e]=ml.useLexicalComposerContext();e=su(e);let n=ru();return e?typeof t=="function"?t(n):t:null}Xo.RichTextPlugin=function({contentEditable:t,placeholder:e,ErrorBoundary:n}){let[r]=ml.useLexicalComposerContext();return n=uu(r,n),au(r),se.createElement(se.Fragment,null,t,se.createElement(du,{content:e}),n)};const cu=Xo;var fu=cu,xl={},hu=Ue,St=F,gu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?St.useLayoutEffect:St.useEffect;xl.ContentEditable=function({ariaActiveDescendant:t,ariaAutoComplete:e,ariaControls:n,ariaDescribedBy:r,ariaExpanded:i,ariaLabel:o,ariaLabelledBy:l,ariaMultiline:s,ariaOwns:u,ariaRequired:a,autoCapitalize:c,className:d,id:h,role:f="textbox",spellCheck:_=!0,style:y,tabIndex:T,"data-testid":S}){let[$]=hu.useLexicalComposerContext(),[M,ee]=St.useState(!1),w=St.useCallback(B=>{$.setRootElement(B)},[$]);return gu(()=>(ee($.isEditable()),$.registerEditableListener(B=>{ee(B)})),[$]),St.createElement("div",{"aria-activedescendant":M?t:void 0,"aria-autocomplete":M?e:"none","aria-controls":M?n:void 0,"aria-describedby":r,"aria-expanded":M&&f==="combobox"?!!i:void 0,"aria-label":o,"aria-labelledby":l,"aria-multiline":s,"aria-owns":M?u:void 0,"aria-required":a,autoCapitalize:c,className:d,contentEditable:M,"data-testid":S,id:h,ref:w,role:M?f:void 0,spellCheck:_,style:y,tabIndex:T})};const _u=xl;var pu=_u,vl={},mu=Ue,ki=F,yu=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?ki.useLayoutEffect:ki.useEffect;vl.OnChangePlugin=function({ignoreHistoryMergeTagChange:t=!0,ignoreSelectionChange:e=!1,onChange:n}){let[r]=mu.useLexicalComposerContext();return yu(()=>{if(n)return r.registerUpdateListener(({editorState:i,dirtyElements:o,dirtyLeaves:l,prevEditorState:s,tags:u})=>{e&&o.size===0&&l.size===0||t&&u.has("history-merge")||s.isEmpty()||n(i,r,u)})},[r,t,e,n]),null};const xu=vl;var vu=xu,Yr={},Gr={},Cu=Wt,R=ne;function Nu(t,e,n,r,i){if(t===null||n.size===0&&r.size===0&&!i)return 0;var o=e._selection,l=t._selection;if(i)return 1;if(!(R.$isRangeSelection(o)&&R.$isRangeSelection(l)&&l.isCollapsed()&&o.isCollapsed()))return 0;i=e._nodeMap;let s=[];for(let u of n)n=i.get(u),n!==void 0&&s.push(n);for(let[u,a]of r)a&&(r=i.get(u),r===void 0||R.$isRootNode(r)||s.push(r));return s.length===0?0:1<s.length?(r=e._nodeMap,e=r.get(o.anchor.key),l=r.get(l.anchor.key),e&&l&&!t._nodeMap.has(e.__key)&&R.$isTextNode(e)&&e.__text.length===1&&o.anchor.offset===1?2:0):(e=s[0],t=t._nodeMap.get(e.__key),!R.$isTextNode(t)||!R.$isTextNode(e)||t.__mode!==e.__mode||(t=t.__text,e=e.__text,t===e)||(o=o.anchor,l=l.anchor,o.key!==l.key||o.type!=="text")?0:(o=o.offset,l=l.offset,t=e.length-t.length,t===1&&l===o-1?2:t===-1&&l===o+1?3:t===-1&&l===o?4:0))}function Tu(t,e){let n=Date.now(),r=0;return(i,o,l,s,u,a)=>{let c=Date.now();if(a.has("historic"))return r=0,n=c,2;let d=Nu(i,o,s,u,t.isComposing()),h=(()=>{var f=l===null||l.editor===t,_=a.has("history-push");if(!_&&f&&a.has("history-merge"))return 0;if(i===null)return 1;var y=o._selection;if(!(0<s.size||0<u.size))return y!==null?0:2;if(_===!1&&d!==0&&d===r&&c<n+e&&f)return 0;if(s.size===1){{_=Array.from(s)[0],f=i._nodeMap.get(_),_=o._nodeMap.get(_),y=i._selection;let T=o._selection,S=!1;R.$isRangeSelection(y)&&R.$isRangeSelection(T)&&(S=y.anchor.type==="element"&&y.focus.type==="element"&&T.anchor.type==="text"&&T.focus.type==="text"),f=!S&&R.$isTextNode(f)&&R.$isTextNode(_)?f.__type===_.__type&&f.__text===_.__text&&f.__mode===_.__mode&&f.__detail===_.__detail&&f.__style===_.__style&&f.__format===_.__format&&f.__parent===_.__parent:!1}if(f)return 0}return 1})();return n=c,r=d,h}}Gr.createEmptyHistoryState=function(){return{current:null,redoStack:[],undoStack:[]}};Gr.registerHistory=function(t,e,n){let r=Tu(t,n);n=({editorState:l,prevEditorState:s,dirtyLeaves:u,dirtyElements:a,tags:c})=>{const d=e.current,h=e.redoStack,f=e.undoStack,_=d===null?null:d.editorState;if(d===null||l!==_){if(u=r(s,l,d,u,a,c),u===1)h.length!==0&&(e.redoStack=[],t.dispatchCommand(R.CAN_REDO_COMMAND,!1)),d!==null&&(f.push({...d,undoSelection:s.read(R.$getSelection)}),t.dispatchCommand(R.CAN_UNDO_COMMAND,!0));else if(u===2)return;e.current={editor:t,editorState:l}}};let i=Cu.mergeRegister(t.registerCommand(R.UNDO_COMMAND,()=>{let l=e.redoStack,s=e.undoStack;if(s.length!==0){let u=e.current,a=s.pop();u!==null&&(l.push(u),t.dispatchCommand(R.CAN_REDO_COMMAND,!0)),s.length===0&&t.dispatchCommand(R.CAN_UNDO_COMMAND,!1),e.current=a||null,a&&a.editor.setEditorState(a.editorState.clone(a.undoSelection),{tag:"historic"})}return!0},R.COMMAND_PRIORITY_EDITOR),t.registerCommand(R.REDO_COMMAND,()=>{let l=e.redoStack;var s=e.undoStack;if(l.length!==0){let u=e.current;u!==null&&(s.push(u),t.dispatchCommand(R.CAN_UNDO_COMMAND,!0)),s=l.pop(),l.length===0&&t.dispatchCommand(R.CAN_REDO_COMMAND,!1),e.current=s||null,s&&s.editor.setEditorState(s.editorState,{tag:"historic"})}return!0},R.COMMAND_PRIORITY_EDITOR),t.registerCommand(R.CLEAR_EDITOR_COMMAND,()=>(e.undoStack=[],e.redoStack=[],e.current=null,!1),R.COMMAND_PRIORITY_EDITOR),t.registerCommand(R.CLEAR_HISTORY_COMMAND,()=>(e.undoStack=[],e.redoStack=[],e.current=null,t.dispatchCommand(R.CAN_REDO_COMMAND,!1),t.dispatchCommand(R.CAN_UNDO_COMMAND,!1),!0),R.COMMAND_PRIORITY_EDITOR),t.registerUpdateListener(n)),o=t.registerUpdateListener(n);return()=>{i(),o()}};const Eu=Gr;var Su=Eu,Du=Ue,pr=Su,Pi=F;function Ou(t,e,n=1e3){let r=Pi.useMemo(()=>e||pr.createEmptyHistoryState(),[e]);Pi.useEffect(()=>pr.registerHistory(t,r,n),[n,t,r])}Yr.createEmptyHistoryState=pr.createEmptyHistoryState;Yr.HistoryPlugin=function({externalHistoryState:t}){let[e]=Du.useLexicalComposerContext();return Ou(e,t),null};const wu=Yr;var $u=wu,Dt=F;function mr(t,e){return mr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,r){return n.__proto__=r,n},mr(t,e)}function Mu(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,mr(t,e)}function Ru(t,e){return t===void 0&&(t=[]),e===void 0&&(e=[]),t.length!==e.length||t.some(function(n,r){return!Object.is(n,e[r])})}var Ii={error:null},Au=function(t){function e(){for(var r,i=arguments.length,o=Array(i),l=0;l<i;l++)o[l]=arguments[l];return r=t.call.apply(t,[this].concat(o))||this,r.state=Ii,r.resetErrorBoundary=function(){for(var s,u=arguments.length,a=Array(u),c=0;c<u;c++)a[c]=arguments[c];r.props.onReset==null||(s=r.props).onReset.apply(s,a),r.reset()},r}Mu(e,t),e.getDerivedStateFromError=function(r){return{error:r}};var n=e.prototype;return n.reset=function(){this.setState(Ii)},n.componentDidCatch=function(r,i){var o,l;(o=(l=this.props).onError)==null||o.call(l,r,i)},n.componentDidUpdate=function(r,i){var o=this.props.resetKeys;if(this.state.error!==null&&i.error!==null&&Ru(r.resetKeys,o)){var l,s;(l=(s=this.props).onResetKeysChange)==null||l.call(s,r.resetKeys,o),this.reset()}},n.render=function(){var r=this.state.error,i=this.props,o=i.fallbackRender,l=i.FallbackComponent;if(i=i.fallback,r!==null){if(r={error:r,resetErrorBoundary:this.resetErrorBoundary},Dt.isValidElement(i))return i;if(typeof o=="function")return o(r);if(l)return Dt.createElement(l,r);throw Error("react-error-boundary requires either a fallback, fallbackRender, or FallbackComponent prop")}return this.props.children},e}(Dt.Component),ku=function({children:t,onError:e}){return Dt.createElement(Au,{fallback:Dt.createElement("div",{style:{border:"1px solid #f00",color:"#f00",padding:"8px"}},"An error was thrown."),onError:e},t)};const Pu=ku;var Iu=Pu;const Lu=Ol(Iu),Li=({onEditorChange:t})=>{const e={theme:{paragraph:"mb-1",rtl:"text-right",ltr:"text-left",text:{bold:"font-bold",italic:"italic",underline:"underline",strikethrough:"line-through"}},namespace:"LexicalEditor",onError(r){throw r}},n=(r,i)=>{r.read(()=>{t(al.$generateHtmlFromNodes(i,null))})};return p.jsx("div",{className:"dark:bg-dark2 relative rounded-[7px] shadow-sm border-2 border-solid border-light2 dark:border-dark1 editor",children:p.jsxs(Es.LexicalComposer,{initialConfig:e,children:[p.jsx(Fu,{}),p.jsx(fu.RichTextPlugin,{contentEditable:p.jsx(pu.ContentEditable,{className:"outline-none p-4 resize-none overflow-hidden text-ellipsis editor"}),placeholder:p.jsx("div",{className:"absolute top-[64px] left-[16px] pointer-events-none select-none text-gray-400 text-left editor",children:"Enter some text..."}),ErrorBoundary:Lu}),p.jsx(vu.OnChangePlugin,{onChange:n}),p.jsx($u.HistoryPlugin,{})]})})},Fu=()=>{const[t]=Ue.useLexicalComposerContext(),[e,n]=Je.useState(!1),[r,i]=Je.useState(!1),[o,l]=Je.useState(!1),[s,u]=Je.useState(!1),a=Je.useCallback(()=>{const c=ne.$getSelection();ne.$isRangeSelection(c)&&(n(c.hasFormat("bold")),i(c.hasFormat("italic")),l(c.hasFormat("strikethrough")),u(c.hasFormat("underline")))},[t]);return Je.useEffect(()=>Wt.mergeRegister(t.registerUpdateListener(({editorState:c})=>{c.read(()=>{a()})})),[a,t]),p.jsxs("div",{className:"p-2 bg-light2 dark:bg-dark1 space-x-2 flex items-stretch rounded-t-[5px] editor",children:[p.jsx("button",{className:"style-none flex items-center justify-center w-8 h-8 transition-colors rounded-md cursor-pointer hover:bg-light1 dark:hover:bg-dark3 "+(e?"bg-dark3":"bg-transparent"),onClick:()=>{t.dispatchCommand(ne.FORMAT_TEXT_COMMAND,"bold")},children:p.jsx($l,{size:24,fill:e?localStorage.theme==="dark"?"#EEEEEE":"#334155":localStorage.theme==="dark"?"#AAAACC":"#8691a1",className:"transition-colors"})}),p.jsx("button",{className:"style-none flex items-center justify-center w-8 h-8 transition-colors rounded-md cursor-pointer hover:bg-light1 dark:hover:bg-dark3 "+(r?"bg-dark3":"bg-transparent"),onClick:()=>{t.dispatchCommand(ne.FORMAT_TEXT_COMMAND,"italic")},children:p.jsx(Ml,{size:24,fill:r?localStorage.theme==="dark"?"#EEEEEE":"#334155":localStorage.theme==="dark"?"#AAAACC":"#8691a1",className:"transition-colors"})}),p.jsx("button",{className:"style-none flex items-center justify-center w-8 h-8 transition-colors rounded-md cursor-pointer hover:bg-light1 dark:hover:bg-dark3 "+(s?"bg-dark3":"bg-transparent"),onClick:()=>{t.dispatchCommand(ne.FORMAT_TEXT_COMMAND,"underline")},children:p.jsx(Rl,{size:24,fill:s?localStorage.theme==="dark"?"#EEEEEE":"#334155":localStorage.theme==="dark"?"#AAAACC":"#8691a1",className:"transition-colors"})})]})};const Bu=({onReturnToDashboard:t})=>{var M,ee;const{supabase:e,user:n}=bt(),[r,i]=F.useState({}),[o,l]=F.useState({}),[s,u]=F.useState(""),[a,c]=F.useState(""),[d,h]=F.useState(""),[f,_]=F.useState(0),y=`${(M=bt().user)==null?void 0:M.user_metadata.first_name}`,T=`${(ee=bt().user)==null?void 0:ee.user_metadata.last_name}`,S=w=>{w.preventDefault(),e.from("hacker_applications").update({status:"Submitted"}).eq("id",n==null?void 0:n.id).then(({data:B,error:J})=>{if(J)throw alert("Something went wrong with submitting your application! Please contact the RythmHacks devs."),J})},$=(w,B)=>{i(J=>({...J,[w]:B})),l(J=>({...J,[w]:B}))};return F.useEffect(()=>{if(Object.keys(o).length===0)return;"question_1"in o&&c("Saving..."),"question_2"in o&&h("Saving..."),Object.keys(o).length-+a-+a>0&&u("Saving...");const w=setTimeout(()=>{e.from("hacker_applications").update(o).eq("id",n==null?void 0:n.id).then(({data:B,error:J})=>{if(J)throw J;s&&u("Saved!"),a&&c("Saved!"),d&&h("Saved!"),setTimeout(()=>{u(""),c(""),h("")},1500)}),l({})},2500);return()=>{clearTimeout(w)}},[o,e,n==null?void 0:n.id]),F.useEffect(()=>{e.from("hacker_applications").select("*").eq("id",n==null?void 0:n.id).then(({data:w,error:B})=>{const J=w==null?void 0:w[0];if(B||!w||J===null)throw _(1),alert("Oh no! Your data could not be retrieved. If this error persists, contact the RythmHacks team."),B||TypeError("no hacker application matching the id was found");i(w[0]),_(2)})},[e,n==null?void 0:n.id]),f===0?p.jsx("div",{className:"lazy-preloader"}):f===1?p.jsxs("div",{className:"container",children:[p.jsx("h1",{children:"Oh no!"}),p.jsx("p",{children:"Your data could not be retrieved. Try checking your internet connection. If this error persists, contact the RythmHacks team."})]}):p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"container",children:[p.jsx("h1",{children:"Hacker Application Form"}),p.jsxs("p",{children:["Fill out this form to register for the event as a hacker. ",p.jsx("button",{className:"style-link p-0",onClick:t,children:"Go back to the dashboard."})]})]}),p.jsx("div",{className:"container mt-4",children:p.jsxs("form",{onSubmit:S,className:"hacker-app-form",children:[p.jsx("h3",{children:"Basic Information"}),p.jsx("p",{children:s}),p.jsxs("div",{children:[p.jsx("label",{children:"First Name"}),p.jsx("input",{value:y,disabled:!0,className:"cursor-not-allowed"})]}),p.jsxs("div",{children:[p.jsx("label",{children:"Last Name"}),p.jsx("input",{value:T,disabled:!0,className:"cursor-not-allowed"})]}),p.jsxs("div",{children:[p.jsx("label",{children:"Email"}),p.jsx("input",{value:n==null?void 0:n.email,disabled:!0,className:"cursor-not-allowed"})]}),p.jsxs("p",{className:"text-[#999] mb-4",children:["Want to change these values? Do so in the ",p.jsx(wl,{to:"/dashboard/settings",children:"settings"})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"gender",children:"Gender (optional)"}),p.jsxs("select",{id:"gender",value:["Prefer not to say","Male","Female","Non-binary"].includes(r.gender||"")?r.gender:"",onChange:w=>{$("gender",w.target.value)},children:[p.jsx("option",{children:"Prefer not to say"}),p.jsx("option",{children:"Male"}),p.jsx("option",{children:"Female"}),p.jsx("option",{children:"Non-binary"}),p.jsx("option",{value:"",children:"Prefer to self-describe"})]}),!["Prefer not to say","Male","Female","Non-binary"].includes(r.gender||"")&&p.jsxs(p.Fragment,{children:[p.jsx("label",{htmlFor:"self-described-gender",children:"Self-described Gender:"}),p.jsx("input",{id:"self-described-gender",value:r.gender,onChange:w=>{$("gender",w.target.value)}})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"age",children:"Age (as of September 1, 2023)"}),p.jsx("input",{id:"age",type:"number",min:0,max:100,placeholder:"Enter age",value:r.age,onChange:w=>$("age",w.target.value)})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"grade",children:"Grade (as of September 1, 2023)"}),p.jsxs("select",{id:"grade",value:r.grade,onChange:w=>$("grade",w.target.value),children:[p.jsx("option",{value:"",children:"Please select a grade"}),p.jsx("option",{children:"10"}),p.jsx("option",{children:"11"}),p.jsx("option",{children:"12"}),p.jsx("option",{children:"Graduating"})]})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"school",children:"School (don't abbreviate)"}),p.jsx("input",{id:"school",value:r.school,placeholder:"Laurel Heights Secondary School",onChange:w=>$("school",w.target.value)})]}),p.jsxs("div",{children:[p.jsx("label",{htmlFor:"phone-number",children:"Phone Number"}),p.jsx("input",{id:"phone-number",type:"tel",value:r.phone_number,placeholder:"Enter phone number",onChange:w=>$("phone_number",w.target.value)})]}),p.jsx("h3",{className:"mt-12",children:"Application Questions"}),p.jsx("h4",{children:"If you had the ability to create any app/website that would solve any problem in the world, what would it be? What technologies would you use? What features would it have? (800c)"}),p.jsx(Li,{onEditorChange:w=>$("question_1",w)}),p.jsx("h4",{className:"mt-8",children:"What's something that you've always wanted to do, but you've never done? What personality traits or roadblocks have you faced that have prevented you from pursuing that idea? It could be a new skill you want to learn, a project you want to build, a business you want to start, anything you can think of! (1000c)"}),p.jsx(Li,{onEditorChange:w=>$("question_1",w)}),p.jsxs("div",{className:"flex gap-2 mt-8",children:[p.jsx("button",{className:"contrast",onClick:t,children:"Save and return"}),p.jsx("button",{onClick:()=>{e.from("hacker_applications").update({status:"Submitted"}).eq("id",n==null?void 0:n.id).then(({data:w,error:B})=>{if(B)throw B})},children:"Submit (you can edit it later)"})]})]})})]})},Ku=()=>{const{supabase:t,user:e}=bt(),[n,r]=F.useState(!1),[i,o]=F.useState("Loading...");let l="Begin application",s;return F.useEffect(()=>{t.from("hacker_applications").select("*").eq("id",e==null?void 0:e.id).then(({data:u,error:a})=>{var d;const c=(d=u==null?void 0:u[0])==null?void 0:d.status;if(a||!c)throw alert("Oh no! Your data could not be retrieved. If this error persists, contact the RythmHacks team."),a||TypeError("no hacker application matching the id was found");o(c)})},[t,e==null?void 0:e.id,n]),console.log(i),i==="In Progress"?(l="Continue application",s="Click the button below to continue editing your application."):i==="Submitted"&&(l="Edit application",s="Your application has been successfully submitted! You can continue to edit it until the deadline."),p.jsx("div",{className:"p-12 flex-1",id:"apply",children:n?p.jsx(Bu,{onReturnToDashboard:()=>r(!n)}):p.jsxs("div",{children:[p.jsxs("div",{className:"container mb-4",children:[p.jsx("h1",{children:"Application Dashboard"}),p.jsx("p",{children:"This is the hub for your RythmHacks application. Fill out your application, get a response from us, then RSVP for the event."})]}),p.jsxs("div",{className:"flexwrap",children:[p.jsxs("div",{className:"container w-1/2",children:[p.jsxs("h2",{className:"flex items-center justify-between gap-2",children:["Apply to be a Hacker",p.jsx("p",{className:"text-xl dark:text-gray-500 dark:bg-black bg-[#ddd] p-2 rounded-md flex items-center font-normal text-center capitalize",children:i})]}),p.jsx("p",{className:"mt-4",children:"Want to attend the event in-person as a competitor? Fill out this application."}),p.jsx("p",{className:"mt-4",children:s}),p.jsx("button",{onClick:()=>{r(!0),i==="Not Started"&&t.from("hacker_applications").update({status:"In Progress"}).eq("id",e==null?void 0:e.id).then(({data:u,error:a})=>{if(a)throw a})},className:"mt-8",children:l})]}),p.jsxs("div",{className:"container w-1/2",children:[p.jsx("h2",{children:"Apply to be a Mentor/Judge"}),p.jsxs("p",{className:"mt-4",children:["Want to attend the event as a mentor/judge? You'll be on-site helping participants with their projects, giving technical advice and assistance when necessary. ",p.jsx("br",{}),p.jsx("br",{}),"Additionally, you'll be judging the projects at the end of the competition. You can also choose to run a self-hosted workshop on a topic of your choice."]}),p.jsx("button",{className:"mt-4",disabled:!0,children:"Stay tuned for more info!"})]})]}),p.jsxs("div",{className:"flex gap-4",children:[p.jsxs("div",{className:"container w-1/2 mt-4 dark:text-[#eee] text-textlight",children:[p.jsx("h2",{children:"Hacker Info"}),p.jsx("p",{className:"font-bold",children:"When are applications due?"}),"Applications are due on July 31st, 2023.",p.jsx("p",{className:"font-bold mt-2",children:"Who is eligible to apply?"}),"Participants must be in grade 12 or lower as of June 2023.",p.jsx("p",{className:"font-bold mt-2",children:"How do I submit my application?"}),"Your application will be automatically saved as you edit it. The final saved product will be your application. You'll be able to edit it up until the deadline.",p.jsxs("p",{className:"mt-4",children:["If you have other questions, ",p.jsx("a",{href:"mailto:rythmhacks@gmail.com",children:"email us"}),", check out our ",p.jsx("a",{href:"https://rythmhacks.ca/",target:"_blank",rel:"noreferrer",children:"main website"})," or DM us on ",p.jsx("a",{href:"https://www.instagram.com/rythm.hacks/",target:"_blank",rel:"noreferrer",children:"Instagram"}),"."]})]}),p.jsxs("div",{className:"container w-1/2 mt-4 dark:text-[#eee] text-textlight",children:[p.jsx("h2",{children:"Mentor Info"}),p.jsx("p",{className:"font-bold",children:"Can I join as a mentor online?"}),"No. As a mentor, you'll be required to be on-site at our event."]})]})]})})};export{Ku as default};
